<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.61">
    <script type="text/javascript" id="hs-script-loader" async defer src="//js.hs-scripts.com/5408110.js"></script><script>
      (function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
      new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
      j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
      'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
      })(window,document,'script','dataLayer','GTM-5BSW555');
      </script><script>
      (function() {
        var routes = {"/almacare":"/enterprise-support-for-almalinux/","/service-descriptions/#almacare":"/enterprise-support-for-almalinux/#essential-and-enhanced-support","/eportal/#almacare-cybersecurity-patch-management":"/eportal/#live-patching-for-almalinux-kernelcare-and-libcare-management","/eportal/#deploying-almacare-almacare-cybersecurity":"/eportal/#deploying-essential-support-live-patching-for-almalinux","/endless-lifecycle-support-for-languages/":"/endless-lifecycle-support/","/endless-lifecycle-support-for-languages":"/endless-lifecycle-support","/els-for-languages/#installation-instructions-of-yum-repositories":"/els-for-languages/python/#installation-instructions-for-linux","/els-for-languages/#rhel-based-systems":"/els-for-languages/php/#rpm-based-systems","/els-for-languages/#ubuntu":"/els-for-languages/php/#deb-based-systems","/els-for-languages/#supported-os":"/els-for-languages/#supported-os-and-php-versions","/els-for-languages/#supported-versions":"/els-for-languages/#supported-os-and-php-versions","/els-for-languages/#step-2-create-an-account-on-npmjs-com":"/els-for-languages/angular/#step-2-set-up-els-for-angular","/els-for-languages/#step-2-set-up-els-for-angular-16":"/els-for-languages/angular/#step-2-set-up-els-for-angular","/els-for-languages/#els-for-php":"/els-for-languages/php","/els-for-languages/#els-for-python":"/els-for-languages/python","/els-for-languages/#els-for-spring-framework-and-spring-boot":"/els-for-languages/spring-framework-and-spring-boot","/els-for-languages/#endless-lifecycle-support-for-apache-tomcat":"/els-for-languages/apache-tomcat","/els-for-languages/#endless-lifecycle-support-for-net-6":"/els-for-languages/dotnet","/els-for-languages/#endless-lifecycle-support-for-angular":"/els-for-languages/angular","/els-for-languages/#endless-lifecycle-support-for-angularjs":"/els-for-languages/angularjs","/els-for-languages/python/#supported-versions":"/els-for-languages/python/#supported-os-and-python-versions","/els-for-languages/python/#supported-os":"/els-for-languages/python/#supported-os-and-python-versions","/els-for-languages/php/#rpm-based-systems":"/els-for-languages/php/#installation-instructions-for-linux","/els-for-languages/php/#deb-based-systems":"/els-for-languages/php/#installation-instructions-for-linux","/els-for-languages/php/#introduction":"/els-for-languages/php/#oval-data","/extended-lifecycle-support":"/endless-lifecycle-support/","/els-for-languages/php/#download-tuxcare-php-windows":"/els-for-languages/php/#download-and-install-tuxcare-php-windows","/els-for-languages/php/#configure-php":"/els-for-languages/php/#download-and-install-tuxcare-php-windows","/els-for-languages/php/#add-php-to-the-system-path":"/els-for-languages/php/#download-and-install-tuxcare-php-windows","/els-for-os/#cloudlinux-6-els":"/els-for-os/","/els-for-languages/php/#additional-configurations-optional":"/els-for-languages/php/#Enabling_a_module","/els-for-languages/php/#enabling-a-module-through-default-ini":"/els-for-languages/php/#Enabling_a_module","/els-for-languages/php/#enabling-a-module-through-the-configuration-files":"/els-for-languages/php/#Enabling_a_module","/els-for-languages/php/#enabling-a-module-through-the-cli":"/els-for-languages/php/#Enabling_a_module","/els-for-languages/php/#listing-enabled-modules-on-a-specific-version":"/els-for-languages/php/#Listing_enabled_modules_on_a_specific_version","/els-for-languages/php/#location-of-default-ini":"/els-for-languages/php/#Location_of_default.ini","/els-for-languages/php/#location-of-ini-config-files":"/els-for-languages/php/#Location_of_ini_config_files","/els-for-languages/php/#running-code-on-a-specific-version-through-the-cli":"/els-for-languages/php/#Running_code_on_a_specific_version_through_the_CLI","/els-for-languages/php/#modules-and-pecl-extensions":"/els-for-languages/php/#Modules_and_pecl_extensions","/els-for-languages/php/#the-bin-files":"/els-for-languages/php/#The_bin_files","/els-for-languages/php/#how-to-use-php-els":"/els-for-languages/php/#Increase_upload_or_memory_limits","/els-for-languages/php/#Update_alt_php":"/els-for-languages/php/#Update_alt-php","/els-for-languages":"/els-for-runtimes","/els-for-languages/":"/els-for-runtimes/","/els-for-languages/apache-tomcat/":"/els-for-applications/apache-tomcat/","/els-for-languages/apache-tomcat/#vulnerability-coverage-and-target-response-times":"/els-for-applications/#vulnerability-coverage-and-target-response-times","/els-for-languages/apache-tomcat/#incident-reporting-and-response-timeframe":"/els-for-applications/#incident-reporting-and-response-timeframe","/els-for-languages/apache-tomcat/#enhanced-transparency-visibility":"/els-for-applications/#enhanced-transparency-visibility","/els-for-languages/apache-tomcat/#technical-support":"/els-for-applications/#technical-support","/els-for-languages/apache-tomcat/#overview":"/els-for-applications/apache-tomcat/#connection-to-els-for-apache-tomcat-repository","/els-for-languages/apache-tomcat/#steps":"/els-for-applications/apache-tomcat/#connection-to-els-for-apache-tomcat-repository","/els-for-languages/apache-tomcat/#resolved-cves-in-els-for-apache-tomcat":"/els-for-applications/apache-tomcat/","/els-for-languages/angular/":"/els-for-runtimes-and-libraries/angular/","/els-for-languages/angular/#vulnerability-coverage-and-target-response-times":"/els-for-runtimes-and-libraries/#vulnerability-coverage-and-target-response-times","/els-for-languages/angular/#incident-reporting-and-response-timeframe":"/els-for-runtimes-and-libraries/#incident-reporting-and-response-timeframe","/els-for-languages/angular/#enhanced-transparency-visibility":"/els-for-runtimes-and-libraries/#enhanced-transparency-visibility","/els-for-languages/angular/#technical-support":"/els-for-runtimes-and-libraries/#technical-support","/els-for-languages/angular/#step-1-get-user-credentials":"/els-for-runtimes-and-libraries/angular/#connection-to-els-for-angular-repository","/els-for-languages/angular/#step-2-set-up-els-for-angular":"/els-for-runtimes-and-libraries/angular/#connection-to-els-for-angular-repository","/els-for-languages/angularjs/":"/els-for-runtimes-and-libraries/angularjs/","/els-for-languages/angularjs/#vulnerability-coverage-and-target-response-times":"/els-for-runtimes-and-libraries/#vulnerability-coverage-and-target-response-times","/els-for-languages/angularjs/#incident-reporting-and-response-timeframe":"/els-for-runtimes-and-libraries/#incident-reporting-and-response-timeframe","/els-for-languages/angularjs/#enhanced-transparency-visibility":"/els-for-runtimes-and-libraries/#enhanced-transparency-visibility","/els-for-languages/angularjs/#technical-support":"/els-for-runtimes-and-libraries/#technical-support","/els-for-languages/dotnet/":"/els-for-runtimes-and-libraries/dotnet/","/els-for-languages/dotnet/#vulnerability-coverage-and-target-response-times":"/els-for-runtimes-and-libraries/#vulnerability-coverage-and-target-response-times","/els-for-languages/dotnet/#incident-reporting-and-response-timeframe":"/els-for-runtimes-and-libraries/#incident-reporting-and-response-timeframe","/els-for-languages/dotnet/#enhanced-transparency-visibility":"/els-for-runtimes-and-libraries/#enhanced-transparency-visibility","/els-for-languages/dotnet/#technical-support":"/els-for-runtimes-and-libraries/#technical-support","/els-for-languages/openjdk/":"/els-for-runtimes-and-libraries/openjdk/","/els-for-languages/openjdk/#vulnerability-coverage-and-target-response-times":"/els-for-runtimes-and-libraries/#vulnerability-coverage-and-target-response-times","/els-for-languages/openjdk/#incident-reporting-and-response-timeframe":"/els-for-runtimes-and-libraries/#incident-reporting-and-response-timeframe","/els-for-languages/openjdk/#enhanced-transparency-visibility":"/els-for-runtimes-and-libraries/#enhanced-transparency-visibility","/els-for-languages/openjdk/#technical-support":"/els-for-runtimes-and-libraries/#technical-support","/els-for-languages/php/":"/els-for-runtimes-and-libraries/php/","/els-for-languages/php/#vulnerability-coverage-and-target-response-times":"/els-for-runtimes-and-libraries/#vulnerability-coverage-and-target-response-times","/els-for-languages/php/#incident-reporting-and-response-timeframe":"/els-for-runtimes-and-libraries/#incident-reporting-and-response-timeframe","/els-for-languages/php/#enhanced-transparency-visibility":"/els-for-runtimes-and-libraries/#enhanced-transparency-visibility","/els-for-languages/php/#technical-support":"/els-for-runtimes-and-libraries/#technical-support","/els-for-languages/python/":"/els-for-runtimes-and-libraries/python/","/els-for-languages/python/#vulnerability-coverage-and-target-response-times":"/els-for-runtimes-and-libraries/#vulnerability-coverage-and-target-response-times","/els-for-languages/python/#incident-reporting-and-response-timeframe":"/els-for-runtimes-and-libraries/#incident-reporting-and-response-timeframe","/els-for-languages/python/#enhanced-transparency-visibility":"/els-for-runtimes-and-libraries/#enhanced-transparency-visibility","/els-for-languages/python/#technical-support":"/els-for-runtimes-and-libraries/#technical-support","/els-for-languages/spring-framework-and-spring-boot/":"/els-for-runtimes-and-libraries/spring/","/els-for-languages/spring-framework-and-spring-boot/#vulnerability-coverage-and-target-response-times":"/els-for-runtimes-and-libraries/#vulnerability-coverage-and-target-response-times","/els-for-languages/spring-framework-and-spring-boot/#incident-reporting-and-response-timeframe":"/els-for-runtimes-and-libraries/#incident-reporting-and-response-timeframe","/els-for-languages/spring-framework-and-spring-boot/#enhanced-transparency-visibility":"/els-for-runtimes-and-libraries/#enhanced-transparency-visibility","/els-for-languages/spring-framework-and-spring-boot/#technical-support":"/els-for-runtimes-and-libraries/#technical-support","/els-for-languages/python-libraries/":"/els-for-runtimes-and-libraries/python-libraries/","/local-mirror-els-for-languages/":"/local-mirror-for-els-php/","/els-for-os/#errata-advisories":"/els-for-os/machine-readable-security-data/#errata-advisories","/els-for-os/#oval-patch-definitions":"/els-for-os/machine-readable-security-data/#oval-patch-definitions","/els-for-os/#centos-6-els":"/els-for-os/centos-6-els/","/els-for-os/#oraclelinux-6-els":"/els-for-os/oracle-linux-6-els/","/els-for-os/#oraclelinux-7-els":"/els-for-os/oracle-linux-7-els/","/els-for-os/#common-use-cases":"/els-for-os/oracle-linux-7-els/#common-use-cases","/els-for-os/#centos-7-els":"/els-for-os/centos-7-els/","/els-for-os/#red-hat-enterprise-linux-7-els":"red-hat-enterprise-linux-7-els","/els-for-os/#centos-8-els":"/els-for-os/centos-8-els/","/els-for-os/#centos-stream-8-els":"/els-for-os/centos-8-els/","/els-for-os/#ubuntu-16-04-els":"/els-for-os/ubuntu-16-04-els/","/els-for-os/#ubuntu-18-04-els":"/els-for-os/ubuntu-18-04-els/","/els-for-os/#ubuntu-20-04-els":"/els-for-os/ubuntu-20-04-els/","/els-for-os/#oval-data":"/els-for-os/machine-readable-security-data/#oval-patch-definitions","/els-for-os/#introduction":"/els-for-os/machine-readable-security-data/#oval-patch-definitions","/els-for-os/#tuxcare-els-oval-streams":"/els-for-os/machine-readable-security-data/#tuxcare-els-oval-streams","/els-for-os/#how-to-use-openscap-with-tuxcare-els":"/els-for-os/machine-readable-security-data/#how-to-use-openscap-with-tuxcare-els","/els-for-os/#how-integrate-the-oval-data-with-a-new-vulnerability-scanner":"/els-for-os/machine-readable-security-data/#how-to-integrate-the-oval-data-with-a-new-vulnerability-scanner","/els-for-os/#tuxcare-csaf-data":"/els-for-os/machine-readable-security-data/#tuxcare-csaf-data","/els-for-os/#common-security-advisory-framework":"/els-for-os/machine-readable-security-data/#common-security-advisory-framework","/els-for-os/#tuxcare-els-rss-releases-feeds":"/els-for-os/machine-readable-security-data/#tuxcare-els-rss-releases-feeds","/els-for-runtimes-and-libraries/angular/#step-1-get-user-credentials":"/els-for-runtimes-and-libraries/angular/#step-1-get-token","/els-for-runtimes-and-libraries/angularjs/#step-1-get-user-credentials":"/els-for-runtimes-and-libraries/angularjs/#step-1-get-token","/els-for-runtimes-and-libraries/lodash/#step-1-get-user-credentials":"/els-for-runtimes-and-libraries/lodash/#step-1-get-token","/els-for-runtimes-and-libraries/spring/#overview":"/els-for-runtimes-and-libraries/spring/#step-2-configure-registry","/els-for-runtimes-and-libraries/spring/#step-2-create-or-modify-your-build-tool-settings":"/els-for-runtimes-and-libraries/spring/#step-4-verify-and-build","/els-for-runtimes-and-libraries/spring/#verification":"/els-for-runtimes-and-libraries/spring/#step-4-verify-and-build","/els-for-runtimes-and-libraries/python/#rpm-based":"/els-for-runtimes-and-libraries/python/#installation-instructions-for-linux","/els-for-runtimes-and-libraries/python/#deb-based":"/els-for-runtimes-and-libraries/python/#installation-instructions-for-linux","/els-for-runtimes-and-libraries/openjdk/":"/els-for-runtimes/openjdk/","/els-for-runtimes-and-libraries/dotnet/":"/els-for-runtimes/dotnet/","/els-for-runtimes-and-libraries/python/":"/els-for-runtimes/python/","/els-for-runtimes-and-libraries/php/":"/els-for-runtimes/php/","/els-for-runtimes-and-libraries/nodejs/":"/els-for-runtimes/nodejs/","/els-for-runtimes-and-libraries/spring/":"/els-for-libraries/spring/","/els-for-runtimes-and-libraries/apache-struts/":"/els-for-libraries/apache-struts/","/els-for-runtimes-and-libraries/apache-spark/":"/els-for-libraries/apache-spark/","/els-for-runtimes-and-libraries/apache-kafka/":"/els-for-libraries/apache-kafka/","/els-for-runtimes-and-libraries/apache-velocity-engine/":"/els-for-libraries/apache-velocity-engine/","/els-for-runtimes-and-libraries/postgresql-driver/":"/els-for-libraries/postgresql-driver/","/els-for-runtimes-and-libraries/protobuf/":"/els-for-libraries/protobuf/","/els-for-runtimes-and-libraries/jackson/":"/els-for-libraries/jackson/","/els-for-runtimes-and-libraries/apache-commons-lang/":"/els-for-libraries/apache-commons-lang/","/els-for-runtimes-and-libraries/java-libraries/":"/els-for-libraries/java-libraries/","/els-for-runtimes-and-libraries/celery/":"/els-for-libraries/celery/","/els-for-runtimes-and-libraries/django/":"/els-for-libraries/django/","/els-for-runtimes-and-libraries/fastapi/":"/els-for-libraries/fastapi/","/els-for-runtimes-and-libraries/flask/":"/els-for-libraries/flask/","/els-for-runtimes-and-libraries/numpy/":"/els-for-libraries/numpy/","/els-for-runtimes-and-libraries/starlette/":"/els-for-libraries/starlette/","/els-for-runtimes-and-libraries/werkzeug/":"/els-for-libraries/werkzeug/","/els-for-runtimes-and-libraries/python-libraries/":"/els-for-libraries/python-libraries/","/els-for-runtimes-and-libraries/angular/":"/els-for-libraries/angular/","/els-for-runtimes-and-libraries/angularjs/":"/els-for-libraries/angularjs/","/els-for-runtimes-and-libraries/bootstrap/":"/els-for-libraries/bootstrap/","/els-for-runtimes-and-libraries/fastify/":"/els-for-libraries/fastify/","/els-for-runtimes-and-libraries/jquery/":"/els-for-libraries/jquery/","/els-for-runtimes-and-libraries/jquery-ui/":"/els-for-libraries/jquery-ui/","/els-for-runtimes-and-libraries/jsonwebtoken/":"/els-for-libraries/jsonwebtoken/","/els-for-runtimes-and-libraries/karma/":"/els-for-libraries/karma/","/els-for-runtimes-and-libraries/lodash/":"/els-for-libraries/lodash/","/els-for-runtimes-and-libraries/mongodb-driver/":"/els-for-libraries/mongodb-driver/","/els-for-runtimes-and-libraries/mongoose/":"/els-for-libraries/mongoose/","/els-for-runtimes-and-libraries/mysql2/":"/els-for-libraries/mysql2/","/els-for-runtimes-and-libraries/next/":"/els-for-libraries/next/","/els-for-runtimes-and-libraries/node-fetch/":"/els-for-libraries/node-fetch/","/els-for-runtimes-and-libraries/nth-check/":"/els-for-libraries/java-libraries/","/els-for-runtimes-and-libraries/passport/":"/els-for-libraries/passport/","/els-for-runtimes-and-libraries/postcss/":"/els-for-libraries/postcss/","/els-for-runtimes-and-libraries/tailwindcss/":"/els-for-libraries/tailwindcss/","/els-for-runtimes-and-libraries/undici/":"/els-for-libraries/undici/","/els-for-runtimes-and-libraries/vite/":"/els-for-libraries/vite/","/els-for-runtimes-and-libraries/vue/":"/els-for-libraries/vue/","/els-for-runtimes-and-libraries/vue-template-compiler/":"/els-for-libraries/vue-template-compiler/","/els-for-runtimes-and-libraries/webpack-dev-server/":"/els-for-libraries/webpack-dev-server/","/els-for-runtimes-and-libraries/webpack/":"/els-for-libraries/webpack/","/els-for-runtimes-and-libraries/javascript-libraries/":"/els-for-libraries/javascript-libraries/","/els-for-runtimes-and-libraries/":"/els-for-libraries/","/els-for-runtimes-and-libraries/ansi-html/":"/els-for-libraries/javascript-libraries/","/els-for-runtimes-and-libraries/base64url/":"/els-for-libraries/javascript-libraries/","/els-for-runtimes-and-libraries/bson/":"/els-for-libraries/javascript-libraries/","/els-for-runtimes-and-libraries/braces/":"/els-for-libraries/javascript-libraries/","/els-for-runtimes-and-libraries/copy-anything/":"/els-for-libraries/javascript-libraries/","/els-for-runtimes-and-libraries/cookie/":"/els-for-libraries/javascript-libraries/","/els-for-runtimes-and-libraries/crypto-js/":"/els-for-libraries/javascript-libraries/","/els-for-runtimes-and-libraries/debug/":"/els-for-libraries/javascript-libraries/","/els-for-runtimes-and-libraries/dompurify/":"/els-for-libraries/javascript-libraries/","/els-for-runtimes-and-libraries/express/":"/els-for-libraries/javascript-libraries/","/els-for-runtimes-and-libraries/express-jwt/":"/els-for-libraries/javascript-libraries/","/els-for-runtimes-and-libraries/form-data/":"/els-for-libraries/javascript-libraries/","/els-for-runtimes-and-libraries/formidable/":"/els-for-libraries/javascript-libraries/","/els-for-runtimes-and-libraries/http-proxy-middleware/":"/els-for-libraries/javascript-libraries/","/els-for-runtimes-and-libraries/i18next/":"/els-for-libraries/javascript-libraries/","/els-for-runtimes-and-libraries/ini/":"/els-for-libraries/javascript-libraries/","/els-for-runtimes-and-libraries/ip/":"/els-for-libraries/javascript-libraries/","/els-for-runtimes-and-libraries/jsonpath-plus/":"/els-for-libraries/javascript-libraries/","/els-for-runtimes-and-libraries/jspdf/":"/els-for-libraries/javascript-libraries/","/els-for-runtimes-and-libraries/marked/":"/els-for-libraries/javascript-libraries/","/els-for-runtimes-and-libraries/micromatch/":"/els-for-libraries/javascript-libraries/","/els-for-runtimes-and-libraries/minimatch/":"/els-for-libraries/javascript-libraries/","/els-for-runtimes-and-libraries/multer/":"/els-for-libraries/javascript-libraries/","/els-for-runtimes-and-libraries/node-forge/":"/els-for-libraries/javascript-libraries/","/els-for-runtimes-and-libraries/pdfjs-dist/":"/els-for-libraries/javascript-libraries/","/els-for-runtimes-and-libraries/picocolors/":"/els-for-libraries/javascript-libraries/","/els-for-runtimes-and-libraries/quill/":"/els-for-libraries/javascript-libraries/","/els-for-runtimes-and-libraries/request/":"/els-for-libraries/javascript-libraries/","/els-for-runtimes-and-libraries/rollup/":"/els-for-libraries/javascript-libraries/","/els-for-runtimes-and-libraries/semver/":"/els-for-libraries/javascript-libraries/","/els-for-runtimes-and-libraries/sentry-browser/":"/els-for-libraries/javascript-libraries/","/els-for-runtimes-and-libraries/ssr-window/":"/els-for-libraries/javascript-libraries/","/els-for-runtimes-and-libraries/terser/":"/els-for-libraries/javascript-libraries/","/els-for-runtimes-and-libraries/tough-cookie/":"/els-for-libraries/javascript-libraries/","/els-for-runtimes-and-libraries/ua-parser-js/":"/els-for-libraries/javascript-libraries/","/els-for-runtimes-and-libraries/webpack-subresource-integrity/":"/els-for-libraries/javascript-libraries/","/els-for-runtimes-and-libraries/xml2js/":"/els-for-libraries/javascript-libraries/","/els-for-runtimes-and-libraries/yargs-parser/":"/els-for-libraries/javascript-libraries/","/els-for-libraries/symfony-process/":"/els-for-libraries/symfony/"};
    
        for (var route_url in routes) {
          if (window.location.href.indexOf(route_url) !== -1) {
            window.location.href = routes[route_url];
          }
        }
      })();
      </script><script>
                    (function() {
                      // Trigger the scroll event without actually scrolling
                      function triggerScrollEvent() {
                        const targetElement = window;
                        const scrollEvent = new Event('scroll', {
                          bubbles: true,
                          cancelable: true,
                        });
                        targetElement.dispatchEvent(scrollEvent);
                      }
              
                      // Call the triggerScrollEvent and scrollBodyDown functions after the page is fully loaded
                      window.addEventListener('load', () => {
                        triggerScrollEvent();
                      });
                    })();
                  </script><title>KernelCare</title><meta name="description" content="">
    <link rel="preload" href="/assets/style-3a819f23.css" as="style"><link rel="stylesheet" href="/assets/style-3a819f23.css">
    <link rel="modulepreload" href="/assets/app-ea04c7ae.js"><link rel="modulepreload" href="/assets/framework-a770bce2.js"><link rel="modulepreload" href="/assets/index.html-70c78c77.js"><link rel="modulepreload" href="/assets/eportal-qemu-feed-7c9efdb9.js"><link rel="modulepreload" href="/assets/index.html-f506560f.js"><link rel="prefetch" href="/assets/index.html-2c57371e.js" as="script"><link rel="prefetch" href="/assets/index.html-b2ec1df4.js" as="script"><link rel="prefetch" href="/assets/index.html-7ea43437.js" as="script"><link rel="prefetch" href="/assets/index.html-ccd5754c.js" as="script"><link rel="prefetch" href="/assets/index.html-a5aba44c.js" as="script"><link rel="prefetch" href="/assets/index.html-a1acd9f7.js" as="script"><link rel="prefetch" href="/assets/index.html-015935c8.js" as="script"><link rel="prefetch" href="/assets/index.html-36bbea9b.js" as="script"><link rel="prefetch" href="/assets/index.html-eed74e1e.js" as="script"><link rel="prefetch" href="/assets/index.html-e1c111f0.js" as="script"><link rel="prefetch" href="/assets/index.html-fcfd3106.js" as="script"><link rel="prefetch" href="/assets/index.html-7c42e5a7.js" as="script"><link rel="prefetch" href="/assets/index.html-ba63876d.js" as="script"><link rel="prefetch" href="/assets/index.html-116274f5.js" as="script"><link rel="prefetch" href="/assets/index.html-3d5703e7.js" as="script"><link rel="prefetch" href="/assets/index.html-6c9650cc.js" as="script"><link rel="prefetch" href="/assets/index.html-d52ae5ae.js" as="script"><link rel="prefetch" href="/assets/index.html-514d1ae3.js" as="script"><link rel="prefetch" href="/assets/index.html-d753d2e8.js" as="script"><link rel="prefetch" href="/assets/index.html-edf7e338.js" as="script"><link rel="prefetch" href="/assets/index.html-40d7f529.js" as="script"><link rel="prefetch" href="/assets/index.html-3a52bea2.js" as="script"><link rel="prefetch" href="/assets/index.html-a8af5e2f.js" as="script"><link rel="prefetch" href="/assets/index.html-3abce6a7.js" as="script"><link rel="prefetch" href="/assets/index.html-19e635cc.js" as="script"><link rel="prefetch" href="/assets/index.html-2a49cb3f.js" as="script"><link rel="prefetch" href="/assets/index.html-362d4fb3.js" as="script"><link rel="prefetch" href="/assets/index.html-368e4d29.js" as="script"><link rel="prefetch" href="/assets/index.html-5d0e547a.js" as="script"><link rel="prefetch" href="/assets/index.html-e56cdeb6.js" as="script"><link rel="prefetch" href="/assets/index.html-60cfc7d3.js" as="script"><link rel="prefetch" href="/assets/index.html-3b756c0b.js" as="script"><link rel="prefetch" href="/assets/index.html-3d371a8d.js" as="script"><link rel="prefetch" href="/assets/index.html-1d212a94.js" as="script"><link rel="prefetch" href="/assets/index.html-18950f70.js" as="script"><link rel="prefetch" href="/assets/index.html-ea56bbba.js" as="script"><link rel="prefetch" href="/assets/index.html-04b749e6.js" as="script"><link rel="prefetch" href="/assets/index.html-71c81115.js" as="script"><link rel="prefetch" href="/assets/index.html-06b90fd9.js" as="script"><link rel="prefetch" href="/assets/index.html-b5ed9e91.js" as="script"><link rel="prefetch" href="/assets/index.html-f19503f9.js" as="script"><link rel="prefetch" href="/assets/index.html-21113814.js" as="script"><link rel="prefetch" href="/assets/index.html-6a00ba32.js" as="script"><link rel="prefetch" href="/assets/index.html-77e8ac31.js" as="script"><link rel="prefetch" href="/assets/index.html-a9c69228.js" as="script"><link rel="prefetch" href="/assets/index.html-216488fb.js" as="script"><link rel="prefetch" href="/assets/index.html-e89b84d6.js" as="script"><link rel="prefetch" href="/assets/index.html-a99f3b67.js" as="script"><link rel="prefetch" href="/assets/index.html-7f084935.js" as="script"><link rel="prefetch" href="/assets/index.html-e9edb3a6.js" as="script"><link rel="prefetch" href="/assets/index.html-7847e285.js" as="script"><link rel="prefetch" href="/assets/index.html-32b56bed.js" as="script"><link rel="prefetch" href="/assets/index.html-b00ae091.js" as="script"><link rel="prefetch" href="/assets/index.html-8ac08a33.js" as="script"><link rel="prefetch" href="/assets/index.html-9901331f.js" as="script"><link rel="prefetch" href="/assets/index.html-91e81f21.js" as="script"><link rel="prefetch" href="/assets/index.html-c9a2488b.js" as="script"><link rel="prefetch" href="/assets/index.html-44f42945.js" as="script"><link rel="prefetch" href="/assets/index.html-0245767c.js" as="script"><link rel="prefetch" href="/assets/index.html-2a3c65bf.js" as="script"><link rel="prefetch" href="/assets/index.html-c95d5aac.js" as="script"><link rel="prefetch" href="/assets/index.html-4990f581.js" as="script"><link rel="prefetch" href="/assets/index.html-d1bb97c6.js" as="script"><link rel="prefetch" href="/assets/index.html-da0f91c1.js" as="script"><link rel="prefetch" href="/assets/index.html-44b111a0.js" as="script"><link rel="prefetch" href="/assets/index.html-dbe74074.js" as="script"><link rel="prefetch" href="/assets/index.html-938e63cc.js" as="script"><link rel="prefetch" href="/assets/index.html-b10f30db.js" as="script"><link rel="prefetch" href="/assets/index.html-65fc0fdd.js" as="script"><link rel="prefetch" href="/assets/index.html-33f5d46d.js" as="script"><link rel="prefetch" href="/assets/index.html-9a01dd71.js" as="script"><link rel="prefetch" href="/assets/index.html-d72380e0.js" as="script"><link rel="prefetch" href="/assets/index.html-d9b6b280.js" as="script"><link rel="prefetch" href="/assets/index.html-5df68d85.js" as="script"><link rel="prefetch" href="/assets/index.html-43c5c71e.js" as="script"><link rel="prefetch" href="/assets/index.html-7ac204b8.js" as="script"><link rel="prefetch" href="/assets/index.html-24250efd.js" as="script"><link rel="prefetch" href="/assets/index.html-ffd315bc.js" as="script"><link rel="prefetch" href="/assets/index.html-ffc457d3.js" as="script"><link rel="prefetch" href="/assets/index.html-15790e4b.js" as="script"><link rel="prefetch" href="/assets/index.html-77d03dd1.js" as="script"><link rel="prefetch" href="/assets/index.html-dceb030f.js" as="script"><link rel="prefetch" href="/assets/index.html-95780ee7.js" as="script"><link rel="prefetch" href="/assets/index.html-30a2c946.js" as="script"><link rel="prefetch" href="/assets/index.html-e37baa69.js" as="script"><link rel="prefetch" href="/assets/index.html-e06b8560.js" as="script"><link rel="prefetch" href="/assets/index.html-52645add.js" as="script"><link rel="prefetch" href="/assets/index.html-d69789df.js" as="script"><link rel="prefetch" href="/assets/index.html-db6f6b5c.js" as="script"><link rel="prefetch" href="/assets/index.html-5f514b26.js" as="script"><link rel="prefetch" href="/assets/index.html-c2c28ac7.js" as="script"><link rel="prefetch" href="/assets/index.html-23a9d783.js" as="script"><link rel="prefetch" href="/assets/index.html-76890614.js" as="script"><link rel="prefetch" href="/assets/index.html-9fb8d298.js" as="script"><link rel="prefetch" href="/assets/index.html-e05d2110.js" as="script"><link rel="prefetch" href="/assets/index.html-df8be922.js" as="script"><link rel="prefetch" href="/assets/index.html-e195f202.js" as="script"><link rel="prefetch" href="/assets/index.html-8d9c1bf0.js" as="script"><link rel="prefetch" href="/assets/index.html-268a1320.js" as="script"><link rel="prefetch" href="/assets/index.html-e82a8564.js" as="script"><link rel="prefetch" href="/assets/index.html-31271bb4.js" as="script"><link rel="prefetch" href="/assets/index.html-4e5266f5.js" as="script"><link rel="prefetch" href="/assets/index.html-b66602fe.js" as="script"><link rel="prefetch" href="/assets/index.html-ee2f35d0.js" as="script"><link rel="prefetch" href="/assets/index.html-bd5dcfc0.js" as="script"><link rel="prefetch" href="/assets/index.html-0321109b.js" as="script"><link rel="prefetch" href="/assets/index.html-f9b9be78.js" as="script"><link rel="prefetch" href="/assets/index.html-57c06425.js" as="script"><link rel="prefetch" href="/assets/index.html-170164e7.js" as="script"><link rel="prefetch" href="/assets/index.html-a8d49f8f.js" as="script"><link rel="prefetch" href="/assets/index.html-853dd725.js" as="script"><link rel="prefetch" href="/assets/index.html-bfda1db5.js" as="script"><link rel="prefetch" href="/assets/index.html-145db36e.js" as="script"><link rel="prefetch" href="/assets/index.html-024a357d.js" as="script"><link rel="prefetch" href="/assets/index.html-2510a900.js" as="script"><link rel="prefetch" href="/assets/index.html-bddf96b1.js" as="script"><link rel="prefetch" href="/assets/index.html-199e3baf.js" as="script"><link rel="prefetch" href="/assets/index.html-aaecd7d1.js" as="script"><link rel="prefetch" href="/assets/index.html-d46e79ee.js" as="script"><link rel="prefetch" href="/assets/index.html-595c9aab.js" as="script"><link rel="prefetch" href="/assets/index.html-d924646e.js" as="script"><link rel="prefetch" href="/assets/index.html-1a80de64.js" as="script"><link rel="prefetch" href="/assets/404.html-e0575d4e.js" as="script"><link rel="prefetch" href="/assets/index.html-a42ea430.js" as="script"><link rel="prefetch" href="/assets/index.html-be1639bc.js" as="script"><link rel="prefetch" href="/assets/index.html-912bb076.js" as="script"><link rel="prefetch" href="/assets/index.html-a028629e.js" as="script"><link rel="prefetch" href="/assets/index.html-a403722f.js" as="script"><link rel="prefetch" href="/assets/index.html-4a1e368b.js" as="script"><link rel="prefetch" href="/assets/index.html-a336655a.js" as="script"><link rel="prefetch" href="/assets/index.html-f8f051a4.js" as="script"><link rel="prefetch" href="/assets/index.html-6f2dc735.js" as="script"><link rel="prefetch" href="/assets/index.html-1b875119.js" as="script"><link rel="prefetch" href="/assets/index.html-5418fc9c.js" as="script"><link rel="prefetch" href="/assets/index.html-50b12c1b.js" as="script"><link rel="prefetch" href="/assets/index.html-79c14723.js" as="script"><link rel="prefetch" href="/assets/index.html-4b411043.js" as="script"><link rel="prefetch" href="/assets/index.html-7c0e59c7.js" as="script"><link rel="prefetch" href="/assets/index.html-fcd58418.js" as="script"><link rel="prefetch" href="/assets/index.html-371558f5.js" as="script"><link rel="prefetch" href="/assets/index.html-6a46463c.js" as="script"><link rel="prefetch" href="/assets/index.html-455fbd6c.js" as="script"><link rel="prefetch" href="/assets/index.html-ec7c3128.js" as="script"><link rel="prefetch" href="/assets/index.html-d0152fd0.js" as="script"><link rel="prefetch" href="/assets/index.html-abab7e70.js" as="script"><link rel="prefetch" href="/assets/index.html-510462cc.js" as="script"><link rel="prefetch" href="/assets/index.html-6a0bf1e0.js" as="script"><link rel="prefetch" href="/assets/index.html-6f840d8c.js" as="script"><link rel="prefetch" href="/assets/index.html-46f8b50c.js" as="script"><link rel="prefetch" href="/assets/index.html-4a587b33.js" as="script"><link rel="prefetch" href="/assets/index.html-eabe2323.js" as="script"><link rel="prefetch" href="/assets/index.html-a3afeaf3.js" as="script"><link rel="prefetch" href="/assets/index.html-69b9d4be.js" as="script"><link rel="prefetch" href="/assets/index.html-dde2c529.js" as="script"><link rel="prefetch" href="/assets/index.html-e4fd8016.js" as="script"><link rel="prefetch" href="/assets/index.html-83fcdb45.js" as="script"><link rel="prefetch" href="/assets/index.html-1a28abf4.js" as="script"><link rel="prefetch" href="/assets/index.html-826d8ab3.js" as="script"><link rel="prefetch" href="/assets/index.html-3b6cd843.js" as="script"><link rel="prefetch" href="/assets/index.html-82e65af8.js" as="script"><link rel="prefetch" href="/assets/index.html-6985f0f8.js" as="script"><link rel="prefetch" href="/assets/index.html-73733fb4.js" as="script"><link rel="prefetch" href="/assets/index.html-dabb5dec.js" as="script"><link rel="prefetch" href="/assets/index.html-ca73dc7c.js" as="script"><link rel="prefetch" href="/assets/index.html-db9f8ebc.js" as="script"><link rel="prefetch" href="/assets/index.html-9abfe70b.js" as="script"><link rel="prefetch" href="/assets/index.html-8ad3748c.js" as="script"><link rel="prefetch" href="/assets/index.html-2d35e638.js" as="script"><link rel="prefetch" href="/assets/index.html-3683bcdf.js" as="script"><link rel="prefetch" href="/assets/index.html-4d3425eb.js" as="script"><link rel="prefetch" href="/assets/index.html-8fc5747e.js" as="script"><link rel="prefetch" href="/assets/index.html-2a339f0e.js" as="script"><link rel="prefetch" href="/assets/index.html-5d7a9135.js" as="script"><link rel="prefetch" href="/assets/index.html-649b393e.js" as="script"><link rel="prefetch" href="/assets/index.html-8b97c3b4.js" as="script"><link rel="prefetch" href="/assets/index.html-b8865d30.js" as="script"><link rel="prefetch" href="/assets/index.html-aaa960b3.js" as="script"><link rel="prefetch" href="/assets/index.html-74d64033.js" as="script"><link rel="prefetch" href="/assets/index.html-fe27f444.js" as="script"><link rel="prefetch" href="/assets/index.html-5b349e6d.js" as="script"><link rel="prefetch" href="/assets/index.html-f01252f8.js" as="script"><link rel="prefetch" href="/assets/index.html-c217b5b7.js" as="script"><link rel="prefetch" href="/assets/index.html-17cf8024.js" as="script"><link rel="prefetch" href="/assets/index.html-2f5cce96.js" as="script"><link rel="prefetch" href="/assets/index.html-1977fdb4.js" as="script"><link rel="prefetch" href="/assets/index.html-9871b4f0.js" as="script"><link rel="prefetch" href="/assets/index.html-36436f70.js" as="script"><link rel="prefetch" href="/assets/index.html-9292bbab.js" as="script"><link rel="prefetch" href="/assets/index.html-0f7a4c6e.js" as="script"><link rel="prefetch" href="/assets/index.html-925ad7d0.js" as="script"><link rel="prefetch" href="/assets/index.html-0cbe4c0c.js" as="script"><link rel="prefetch" href="/assets/index.html-e6607fa5.js" as="script"><link rel="prefetch" href="/assets/index.html-0d6e9fd0.js" as="script"><link rel="prefetch" href="/assets/index.html-436d808d.js" as="script"><link rel="prefetch" href="/assets/index.html-23061e48.js" as="script"><link rel="prefetch" href="/assets/index.html-fbe70617.js" as="script"><link rel="prefetch" href="/assets/index.html-49b2cf67.js" as="script"><link rel="prefetch" href="/assets/index.html-d5840165.js" as="script"><link rel="prefetch" href="/assets/index.html-9b74a2dd.js" as="script"><link rel="prefetch" href="/assets/index.html-7341fe81.js" as="script"><link rel="prefetch" href="/assets/index.html-bfa23a71.js" as="script"><link rel="prefetch" href="/assets/index.html-8d5adf25.js" as="script"><link rel="prefetch" href="/assets/index.html-71aeaf57.js" as="script"><link rel="prefetch" href="/assets/index.html-7595d083.js" as="script"><link rel="prefetch" href="/assets/index.html-ab59d2cb.js" as="script"><link rel="prefetch" href="/assets/index.html-bfd19d66.js" as="script"><link rel="prefetch" href="/assets/index.html-0262357c.js" as="script"><link rel="prefetch" href="/assets/index.html-be93c17e.js" as="script"><link rel="prefetch" href="/assets/index.html-5d16172d.js" as="script"><link rel="prefetch" href="/assets/index.html-87384d05.js" as="script"><link rel="prefetch" href="/assets/index.html-24f3a203.js" as="script"><link rel="prefetch" href="/assets/index.html-2b6a6364.js" as="script"><link rel="prefetch" href="/assets/index.html-1b1199b5.js" as="script"><link rel="prefetch" href="/assets/index.html-eff90901.js" as="script"><link rel="prefetch" href="/assets/index.html-c30a3302.js" as="script"><link rel="prefetch" href="/assets/index.html-03d569f0.js" as="script"><link rel="prefetch" href="/assets/index.html-bafc3438.js" as="script"><link rel="prefetch" href="/assets/index.html-ef8a083c.js" as="script"><link rel="prefetch" href="/assets/index.html-79b47c35.js" as="script"><link rel="prefetch" href="/assets/index.html-b052f6c0.js" as="script"><link rel="prefetch" href="/assets/index.html-480370a7.js" as="script"><link rel="prefetch" href="/assets/index.html-63bf85a5.js" as="script"><link rel="prefetch" href="/assets/index.html-1a6843ec.js" as="script"><link rel="prefetch" href="/assets/index.html-c862825a.js" as="script"><link rel="prefetch" href="/assets/index.html-eb7d289c.js" as="script"><link rel="prefetch" href="/assets/index.html-6f2a3833.js" as="script"><link rel="prefetch" href="/assets/index.html-0820ad13.js" as="script"><link rel="prefetch" href="/assets/index.html-92552580.js" as="script"><link rel="prefetch" href="/assets/index.html-d0fdb306.js" as="script"><link rel="prefetch" href="/assets/index.html-c01b3c4c.js" as="script"><link rel="prefetch" href="/assets/index.html-2ae5c81b.js" as="script"><link rel="prefetch" href="/assets/index.html-af4a8c09.js" as="script"><link rel="prefetch" href="/assets/index.html-ed37a69e.js" as="script"><link rel="prefetch" href="/assets/index.html-a65179af.js" as="script"><link rel="prefetch" href="/assets/index.html-6a21aa82.js" as="script"><link rel="prefetch" href="/assets/index.html-588270b4.js" as="script"><link rel="prefetch" href="/assets/index.html-3f24269b.js" as="script"><link rel="prefetch" href="/assets/index.html-f1703b68.js" as="script"><link rel="prefetch" href="/assets/index.html-e0134a31.js" as="script"><link rel="prefetch" href="/assets/index.html-a14597b8.js" as="script"><link rel="prefetch" href="/assets/index.html-e181a44e.js" as="script"><link rel="prefetch" href="/assets/index.html-a4ed0135.js" as="script"><link rel="prefetch" href="/assets/index.html-b5f088f5.js" as="script"><link rel="prefetch" href="/assets/index.html-283b57b2.js" as="script"><link rel="prefetch" href="/assets/index.html-a32a9c5a.js" as="script"><link rel="prefetch" href="/assets/404.html-17e46798.js" as="script"><link rel="prefetch" href="/assets/jquery-ccf378a3.js" as="script"><link rel="prefetch" href="/assets/dataTables-ec559658.js" as="script"><link rel="prefetch" href="/assets/dataTables.dataTables-67ae0fd9.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><header class="navbar fixed"><div class="navbar-header"><div class="navbar-header__logo-wrapper"><a href="/" class="home-link"><img class="logo" src="/global/logo.svg" alt="logo header"></a><div class="header-layout__search-container header-mobile__hidden"><!----><form id="search-form" class="drawer-header__input"><input type="text" value="" id="algolia-search-input" placeholder="Search" class="header-layout__search-default" maxlength="100"><div class="header-layout__search-icon-default"><img alt="search icon" src="/global/search.svg"><!----></div></form><div><div class="drawer"><div class="drawer-header"><div class="drawer-header__wrapper"><h2 class="drawer-header__paragraph">How can we help you?</h2><div id="drawerSearch"></div></div><div class="drawer-cross"><img class="drawer-cross__img" src="/global/cross.svg" alt="cross"><p class="drawer-cross__text">close</p></div></div><main><div class="drawer-main"><div class="drawer-main__wrapper"><div class="drawer-main__breadcrumb"><!-- Optional breadcrumb can stay here --></div><div><p class="no_results">Please type your search query, then press Enter or click the search button.</p></div></div></div><!----></main></div><!----></div></div></div><div class="links" style="max-width:nullpx;"><img class="navbar-header__mobile-search" src="/global/search.svg" alt="icon image"><div class="header-products-wrapper"><div class="dropdown"><!----><!----><div class="header-products-container"><img class="header-products-container__img" alt="hamburger menu" src="/global/hamburger-menu.svg"><p class="header-products-wrapper-paragraph">Products</p><img class="products-icon__default" width="10" height="8" src="/arrows/arrow-down.svg" alt="arrow down icon"></div></div></div><!--[--><a href="https://www.tuxcare.com/support-portal/" target="_blank" class="btn">Submit support request</a><!--]--></div></div><!----></header><!----><div class="page"><!--[--><!--]--><div class="breadcrumb-wrapper page-breadcrumb" data-v-ecea15c5><!--[--><a href="/" class="breadcrumb" data-v-ecea15c5>Documentation</a><a aria-current="page" href="/live-patching-services/" class="router-link-active router-link-exact-active breadcrumb" data-v-ecea15c5>KernelCare</a><!--]--></div><img class="page-mobile__sidebar-menu" src="/global/sidebar-menu.svg" alt="sidebar hamburger menu"><div class="page-nav-wrapper"><!----></div><div class="content" custom="false"><!-- markdownlint-disable MD014 MD033 MD029 MD049 --><h1 id="kernelcare" tabindex="-1"><a class="header-anchor" href="#kernelcare" aria-hidden="true">#</a> KernelCare</h1><h2 id="kernelcare-simplepatch" tabindex="-1"><a class="header-anchor" href="#kernelcare-simplepatch" aria-hidden="true">#</a> KernelCare SimplePatch</h2><h3 id="introduction" tabindex="-1"><a class="header-anchor" href="#introduction" aria-hidden="true">#</a> Introduction</h3><p>KernelCare SimplePatch is a kernel live patching product that provides security patches for a range of popular Linux kernels that can be installed without rebooting the system. It supports kernels of Enterprise Linux operating systems, i.e., RHEL, Oracle, Rocky, AlmaLinux, and CentOS, as well as Ubuntu and Debian. Each individual kernel receives new live patches for as long as the kernel vendor releases security updates for the series.</p><p>The KernelCare SimplePatch offering consists of the client application, and the live patching service hosted by TuxCare. The client application runs on machines, periodically checks for available patches, downloads, verifies, and installs them.</p><h3 id="the-live-patching-process" tabindex="-1"><a class="header-anchor" href="#the-live-patching-process" aria-hidden="true">#</a> The live patching process</h3><p>When a new vulnerability is detected in the Linux kernel, TuxCare creates a live patch addressing the vulnerability. After the live patch is made available, it is tested in TuxCare’s internal server farm and then promoted gradually to a series of testing tiers, ensuring that any released live patch has been tested sufficient time on live systems. Once the patch is released, systems that enable the KernelCare SimplePatch client will receive the patch over an authenticated channel and apply it.</p><h3 id="kernel-patching-lifetime" tabindex="-1"><a class="header-anchor" href="#kernel-patching-lifetime" aria-hidden="true">#</a> Kernel patching lifetime</h3><p>KernelCare SimplePatch offers live patches for each individual kernel for as long as the kernel vendor releases security updates for the series. This allows you to enjoy continuous protection for your existing kernels without being bound by the kernel vendor’s release schedule when planning your maintenance windows.</p><h3 id="vulnerability-coverage" tabindex="-1"><a class="header-anchor" href="#vulnerability-coverage" aria-hidden="true">#</a> Vulnerability coverage</h3><p>During the lifecycle of an operating system, TuxCare makes commercially reasonable efforts to provide live patches for all vulnerability fixes provided by the vendor, irrespective of their vulnerability rating. We may also address vulnerabilities that haven&#39;t been addressed by the OS vendor if they gained significant attention and were being actively discussed, exploited (according to the <a href="https://www.cisa.gov/known-exploited-vulnerabilities-catalog" target="_blank" rel="noopener noreferrer">CISA list</a>), or researched by the cybersecurity community.</p><h3 id="target-response-rates" tabindex="-1"><a class="header-anchor" href="#target-response-rates" aria-hidden="true">#</a> Target response rates</h3><p>TuxCare is committed to delivering timely security updates. We aim to deliver live patches for all CVEs patched by the vendor within 10 days from when the vulnerability is publicly disclosed. This rapid response time significantly reduces the opportunity window for a potential attack and meets most security regulation requirements. However, a live patch for a vulnerability can be significantly more complex than an ordinary kernel patch, and due to the additional complexity, can take more time to develop and test.</p><h3 id="supported-architectures" tabindex="-1"><a class="header-anchor" href="#supported-architectures" aria-hidden="true">#</a> Supported architectures</h3><p>KernelCare is available for both x86-64 (Intel and AMD) and ARM64 architectures.</p><h3 id="supported-linux-distros-and-kernels" tabindex="-1"><a class="header-anchor" href="#supported-linux-distros-and-kernels" aria-hidden="true">#</a> Supported Linux distros and kernels</h3><p>Customers can find detailed information about supported kernels, Linux distributions, specific vulnerabilities, and live patches provided by KernelCare SimplePatch for each of the supported Linux distributions at <a href="https://patches.kernelcare.com/" target="_blank" rel="noopener noreferrer">https://patches.kernelcare.com/</a>.</p><h3 id="third-party-modules-and-tainted-kernels" tabindex="-1"><a class="header-anchor" href="#third-party-modules-and-tainted-kernels" aria-hidden="true">#</a> Third-party modules and tainted kernels</h3><p>KernelCare Enterprise can apply live patches to systems that run third-party or out-of-tree (OOT) kernel modules, such as DRBD, NVIDIA, or proprietary device drivers.</p><p>KernelCare patches are built to preserve the kernel ABI. Exported symbols, function signatures, and structure layouts remain unchanged, which allows external modules to continue working through the same interfaces after patching.</p><h4 id="possible-interactions" tabindex="-1"><a class="header-anchor" href="#possible-interactions" aria-hidden="true">#</a> Possible interactions</h4><p>In rare situations, conflicts may occur if an external module:</p><ul><li>injects instrumentation such as kprobes or ftrace hooks into a function being patched</li><li>executes long-running code inside a function at the moment it is being replaced</li></ul><p>KernelCare includes safety checks that detect busy or unsafe patch sites and defer patching until they are safe to update.</p><h4 id="support-policy" tabindex="-1"><a class="header-anchor" href="#support-policy" aria-hidden="true">#</a> Support policy</h4><ul><li>TuxCare provides support for all officially supported kernels regardless of taint status.</li></ul><h3 id="end-of-life-(eol)-policy" tabindex="-1"><a class="header-anchor" href="#end-of-life-(eol)-policy" aria-hidden="true">#</a> End-of-life (EOL) policy</h3><p>TuxCare will stop supporting live patching for specific distros if there are no security advisories provided by the distro&#39;s vendor for the last 365 days. In this case, all customers running the affected distributions are notified about the upcoming EOL. Existing live patches for EOL distributions are available for the next 6 years after the EOL date.</p><h3 id="technical-support" tabindex="-1"><a class="header-anchor" href="#technical-support" aria-hidden="true">#</a> Technical Support</h3><p>All TuxCare live patching products include technical support provided according to the <a href="https://tuxcare.com/TuxCare-support-policy.pdf" target="_blank" rel="noopener noreferrer">TuxCare support policy</a>. It delivers 24/7/365 access to our engineers through the <a href="https://tuxcare.com/support-portal/" target="_blank" rel="noopener noreferrer">TuxCare Support Portal</a> and to our online knowledge base.</p><h3 id="getting-a-trial-license" tabindex="-1"><a class="header-anchor" href="#getting-a-trial-license" aria-hidden="true">#</a> Getting a trial license</h3><p>You will need a trial activation key to be able to use the KernelCare SimplePatch. The trial license subscription will work for 30 days. You can request your free trial here <a href="https://tuxcare.com/free-trial/" target="_blank" rel="noopener noreferrer">https://tuxcare.com/free-trial/</a>.</p><p>If you have any questions regarding using your trial subscription, contact <a href="mailto:sales@tuxcare.com">sales@tuxcare.com</a> and we will help.</p><h3 id="installation" tabindex="-1"><a class="header-anchor" href="#installation" aria-hidden="true">#</a> Installation</h3><p>KernelCare SimplePatch is compatible with 64-bit versions of CloudLinuxOS/CentOS 6, 7 and 8, AlmaLinux/RHEL 6, 7, 8 and 9, Oracle Linux 6 and 7, Amazon Linux 1 and 2, Virtuozzo/PCS/OpenVZ 2.6.32, Debian 8, 9 and 10, 11, 12, Proxmox VE 5 and 6, Virt-SIG/Xen4CentOS 6 and 7, Ubuntu 14.04, 15.04, 16.04, 18.04 and 20.04 kernels. The list of compatible kernels can be found at the following link: <a href="https://patches.kernelcare.com/" target="_blank" rel="noopener noreferrer">https://patches.kernelcare.com/</a></p><p>To install KernelCare SimplePatch, run the following as root:</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>curl -s -L https://kernelcare.com/installer | bash 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>or:</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>wget -qq -O - https://kernelcare.com/installer | bash
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>If you are using an IP-based license, nothing else is required to be done. If you are using a key-based license, run:</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>kcarectl --register &lt;KEY&gt;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>Where <code>KEY</code> is the registration key code string provided when you sign up for purchase or trial of the product. If you are experiencing a <code>Key limit reached</code> error after the end of the trial period, you should first unregister the server by running:</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>kcarectl --unregister
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>To check if patches applied, run:</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>kcarectl --info
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>The software will automatically check for new patches every 4 hours. If you would like to run update manually:</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>kcarectl --update
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>To check current kernel compatibility with KernelCare SimplePatch, use the following <a href="https://raw.githubusercontent.com/iseletsk/kernelchecker/master/py/kc-compat.py" target="_blank" rel="noopener noreferrer">script</a> by running:</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>curl -s -L https://kernelcare.com/checker | python
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>or:</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>wget -qq -O - https://kernelcare.com/checker | python
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="update" tabindex="-1"><a class="header-anchor" href="#update" aria-hidden="true">#</a> Update</h3><p>To update the agent package to the latest version use:</p><ul><li>For rpm-based distributions (CentOS, RedHat, etc):</li></ul><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>yum install -y kernelcare
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>or:</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>dnf install -y kernelcare
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li>For apt-based distributions (Debian, Ubuntu, etc):</li></ul><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>apt-get install kernelcare
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>or:</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>apt install kernelcare
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="uninstalling" tabindex="-1"><a class="header-anchor" href="#uninstalling" aria-hidden="true">#</a> Uninstalling</h3><p>To uninstall KernelCare SimplePatch, run the following as root: *For CloudLinux, CentOS, RHEL, Virtuozzo, OpenVZ:</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>yum remove kernelcare
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>or:</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>dnf remove kernelcare
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li>For Ubuntu, Debian, Proxmox VE:</li></ul><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>apt-get remove kernelcare 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>or:</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>apt purge kernelcare
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>This will also unlink the system from its activation key (provided there is network connectivity to the CLN Portal). However, you&#39;ll need to remove the license from the CLN Portal manually if you don&#39;t plan to use the service anymore.</p><h3 id="kernelcare-repository-structure-changelog" tabindex="-1"><a class="header-anchor" href="#kernelcare-repository-structure-changelog" aria-hidden="true">#</a> KernelCare repository structure changelog</h3><p>KernelCare repository structure changes are typically transparent to users, with necessary updates applied automatically during package upgrades. However, in highly customized environments, such as those using custom repo mirrors, manual intervention may be required to accommodate these changes.</p><h4 id="kernelcare-3.0-1" tabindex="-1"><a class="header-anchor" href="#kernelcare-3.0-1" aria-hidden="true">#</a> KernelCare 3.0-1</h4><ol><li><em>RPM-only</em> - started using <a href="https://repo.cloudlinux.com/kernelcare/RPM-GPG-KEY-KernelCare-rsa4096" target="_blank" rel="noopener noreferrer">RPM-GPG-KEY-KernelCare-rsa4096</a>, which offers stronger cryptography. This change is mandatory for EL10 and remains compatible with older EL versions.</li></ol><p>Old <code>gpgkey</code> param value example: <code>gpgkey=https://repo.cloudlinux.com/kernelcare/RPM-GPG-KEY-KernelCare</code></p><p>New <code>gpgkey</code> param value example: <code>gpgkey=https://repo.cloudlinux.com/kernelcare/RPM-GPG-KEY-KernelCare-rsa4096</code></p><ol start="2"><li><em>RPM-only</em> - The repository URL has changed to <a href="https://repo.cloudlinux.com/kernelcare/el-sig202505/" target="_blank" rel="noopener noreferrer">kernelcare/el-sig202505</a>, with packages signed using the new signature key.</li></ol><p>Old <code>baseurl</code> param value example: <code>https://repo.cloudlinux.com/kernelcare/$releasever/$basearch</code></p><p>New <code>baseurl</code> param value example: <code>https://repo.cloudlinux.com/kernelcare/el-sig202505/$releasever/$basearch</code></p><h4 id="kernelcare-2.97-2" tabindex="-1"><a class="header-anchor" href="#kernelcare-2.97-2" aria-hidden="true">#</a> KernelCare 2.97-2</h4><ol><li><em>Debian-only</em> - The repository URL has changed to <a href="https://repo.cloudlinux.com/kernelcare/debian-sig202505/" target="_blank" rel="noopener noreferrer">kernelcare/debian-sig202505</a>, with metadata signed using a stronger cryptographic key.</li></ol><p>Old repo url example: <code>https://repo.cloudlinux.com/kernelcare/kernelcare-debian/12</code></p><p>New repo url example: <code>https://repo.cloudlinux.com/kernelcare/debian-sig202505/12</code></p><ol start="2"><li><em>Ubuntu-only</em> - The repository URL has changed to <a href="https://repo.cloudlinux.com/kernelcare/ubuntu-sig202505/" target="_blank" rel="noopener noreferrer">kernelcare/ubuntu-sig202505</a>, with metadata signed using a stronger cryptographic key.</li></ol><p>Old repo url example: <code>https://repo.cloudlinux.com/kernelcare-ubuntu/24.04</code></p><p>New repo url example: <code>https://repo.cloudlinux.com/kernelcare/ubuntu-sig202505/24.04</code></p><h3 id="switching-from-ksplice" tabindex="-1"><a class="header-anchor" href="#switching-from-ksplice" aria-hidden="true">#</a> Switching from Ksplice</h3><p>To switch from Ksplice to KernelCare SimplePatch, use the following script that uninstalls Ksplice and installs KernelCare SimplePatch instead.</p><p>It will automatically detect and abort if the system is not 64-bit (as KernelCare SimplePatch doesn&#39;t support it).</p><p>It will also detect when the Ksplice module cannot be uninstalled and retries multiple times.</p><p>Download the script here: <a href="https://patches.kernelcare.com/ksplice2kcare" target="_blank" rel="noopener noreferrer">https://patches.kernelcare.com/ksplice2kcare</a></p><p>Run the command:</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>bash ksplice2kcare &lt;KERNELCARE_KEY&gt; 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>The key can be created/retrieved in KernelCare SimplePatch Keys section of CLN.</p><p>If you want to use IP based licenses, run:</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>bash ksplice2kcare IP 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>You have to add an IP license for that server, and it is just the two letters <code>IP</code>, not your actual IP address.</p><p>By default the script will attempt 3 times to uninstall Ksplice, waiting 60 seconds in between. You can run it using <code>nohup</code> if you don&#39;t want to wait.</p><p>You can change that by editing the script and changing <code>RETRY</code> and <code>SLEEP</code> values.</p><p>The script will exit with exit code <code>0</code> and message <code>Done</code> on success. Otherwise, it will produce exit code <code>-1</code>.</p><p>The complete log file can be found at <code>/var/log/ksplice2kcare.log</code></p><h3 id="canonical-livepatch" tabindex="-1"><a class="header-anchor" href="#canonical-livepatch" aria-hidden="true">#</a> Canonical Livepatch</h3><p>KernelCare SimplePatch is not compatible with Canonical Livepatch and should not be used on the same system.</p><h3 id="basic-management" tabindex="-1"><a class="header-anchor" href="#basic-management" aria-hidden="true">#</a> Basic management</h3><p>To disable automatic updates, edit the file <code>/etc/sysconfig/kcare/kcare.conf</code></p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>AUTO_UPDATE=False
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>To check the updated &#39;effective&#39; version, run:</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>kcarectl --uname
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>We provide a convenience script <code>/usr/bin/kcare-uname</code> that has same syntax as <code>uname</code>.</p><p>To see applied patches, run:</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>kcarectl --patch-info 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="command-line-tools" tabindex="-1"><a class="header-anchor" href="#command-line-tools" aria-hidden="true">#</a> Command line tools</h3><ul><li><code>/usr/bin/kcarectl</code> - Manage KernelCare SimplePatch patches for your kernel.</li><li><code>/usr/bin/kcare-uname</code> - Print certain system information.</li></ul><h4 id="kcarectl" tabindex="-1"><a class="header-anchor" href="#kcarectl" aria-hidden="true">#</a> kcarectl</h4><table><thead><tr><th>Option</th><th>Description</th></tr></thead><tbody><tr><td><code>-i</code>,<code>--info</code></td><td>Displays information about patches installed by KernelCare SimplePatch.</td></tr><tr><td><code>-u</code>, <code>--updated</code></td><td>Downloads the latest patches and applies them to current kernel.</td></tr><tr><td><code>--smart-update</code> [since 1.6]</td><td>The same as <code>--update</code> but is used to decide where to get pathches</td></tr><tr><td><code>--unload</code></td><td>Unloads patches.</td></tr><tr><td><code>--auto-update</code></td><td>Checks if update is needed and performs an update</td></tr><tr><td><code>--patch-info</code></td><td>Lists applied patches.</td></tr><tr><td><code>--status</code></td><td>Returns a status of an update. Refer to the exit code: <br> <code>0</code> - host is updated to the latests patch level <br> <code>1</code> - there are no applied patches <br> <code>2</code> - there are new but not applied patches <br> <code>3</code> - kernel is unsupported</td></tr><tr><td><code>--force</code> [since 2.3]</td><td>When used with update, forces applying the patch even if unable to freeze some threads.</td></tr><tr><td><code>--uname</code></td><td>Prints safe kernel version.</td></tr><tr><td><code>--license-info</code></td><td>Outputs the current license info.</td></tr><tr><td><code>--register KEY</code></td><td>Registers using KernelCare SimplePatch Key.</td></tr><tr><td><code>--register-autoretry</code> [since 2.5]</td><td>If the registration fails, retries the registration indefinitely.</td></tr><tr><td><code>--unregister</code></td><td>Unregisters from KernelCare SimplePatch for the Key-based servers.</td></tr><tr><td><code>--test</code></td><td>Tries the test builds instead of the production builds (deprecated, use <code>--prefix=test</code> instead).</td></tr><tr><td><code>--prefix</code></td><td>Patches thesource prefix. Used to test different builds by downloading builds from a different location based on prefix (v2.2+).</td></tr><tr><td><code>--version</code></td><td>Prints the KernelCare SimplePatch version.</td></tr><tr><td><code>--import-key PATH</code></td><td>Imports the gpg key.</td></tr><tr><td><code>--set-monitoring-key</code></td><td>Sets the monitoring key for IP-based licenses. 16 to 32 characters, alphanumeric only [version 2.1+]</td></tr><tr><td><code>--freezer</code> [since 2.3]</td><td>none: don&#39;t freeze any threads; full: freeze all threads; smart: freezes only threads that need to be frozen for patching. If option is not selected, best freezer method is chosen automatically.</td></tr><tr><td><code>--check</code> [since 2.4]</td><td>Checks if new patchset is available, without updating. Exit code 0 means there is a new kernel. 1 when there is no new kernel.</td></tr><tr><td><code>--doctor</code> [since 2.6]</td><td>Sends a report to the TuxCare support staff for diagnostics.</td></tr><tr><td><code>--set-patch-type extra</code></td><td>To enable extra patches.</td></tr><tr><td><code>--set-patch-type free</code></td><td>To enable free patches.</td></tr><tr><td><code>--tag COMMAND</code></td><td>Adds an extra field for a server. <code>COMMAND</code> is a user-defined parameter.</td></tr></tbody></table><h4 id="kcare-uname" tabindex="-1"><a class="header-anchor" href="#kcare-uname" aria-hidden="true">#</a> kcare-uname</h4><p>Print certain system information. Default is <code>-s</code>.</p><table><thead><tr><th>Argument</th><th>Description</th></tr></thead><tbody><tr><td><code>-a</code>, <code>--all</code></td><td>print all information in the following order, except omit <code>-p</code> and <code>-i</code> if unknown</td></tr><tr><td><code>-s</code>, <code>--kernel-name</code></td><td>print the kernel name</td></tr><tr><td><code>-n</code>, <code>--nodename</code></td><td>print the network node hostname</td></tr><tr><td><code>-r</code>, <code>--kernel-release</code></td><td>print the kernel release</td></tr><tr><td><code>-v</code>, <code>--kernel-version</code></td><td>print the kernel version</td></tr><tr><td><code>-m</code>, <code>--machine</code></td><td>print the machine hardware name</td></tr><tr><td><code>-p</code>, <code>--processor</code></td><td>print the processor type or <code>unknown</code></td></tr><tr><td><code>-i</code>, <code>--hardware-platform</code></td><td>print the hardware platform or <code>unknown</code></td></tr><tr><td><code>-o</code>, <code>--operating-system</code></td><td>print the operating system</td></tr><tr><td><code>--help</code></td><td>display this help and exit</td></tr><tr><td><code>--version</code></td><td>output the version information and exit</td></tr></tbody></table><h4 id="kernelcare-doctor" tabindex="-1"><a class="header-anchor" href="#kernelcare-doctor" aria-hidden="true">#</a> kernelcare doctor</h4><p>This tool collects essential information about the KernelCare SimplePatch environment and sends it to the support team.</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>kcarectl --doctor  
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>Generating report... 
Uploading... 
Key: FRWf74Zw11111111.83991334-1111-1111-1111-681ddd653e5f 
Please, provide above mentioned key to KernelCare Support Team 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>The command generates a report and prints out the ID which could be linked to a support ticket.</p><div class="tip custom-block"><p class="custom-block-title">Note</p><p>If there was a connection problem during uploading the report, the report will be stored locally as <code>/root/cl-report</code>. This file should be sent to the support team manually.</p></div><h4 id="config-options" tabindex="-1"><a class="header-anchor" href="#config-options" aria-hidden="true">#</a> Config options</h4><p>The <code>kcarectl</code> behavior can be configured using <code>/etc/sysconfig/kcare/kcare.conf</code>.</p><table><thead><tr><th>Parameter</th><th>Description</th></tr></thead><tbody><tr><td><code>AUTO_UPDATE=True/False</code></td><td><code>True</code>- enable auto-update, <code>False</code> - disable auto-update</td></tr><tr><td><code>PATCH_METHOD=normal/nofreeze/smart</code></td><td><code>Normal</code> - (default) use freezer; <br> <code>Nofreeze</code> - don&#39;t use freezer to free processes; <br> <code>Smart</code> - smart freezer freezes only threads that need ot be frozen for patching [kernelcare 2.3+]</td></tr><tr><td><code>PATCH_SERVER</code></td><td>Server to use to download patches.</td></tr><tr><td><code>REGISTRATION_URL</code></td><td>Licensing server.</td></tr><tr><td><code>PREFIX=prefix</code></td><td>Patch source prefix, used to test different builds, by downloading builds from a different location, based on prefix [kernelcare 2.2+]</td></tr><tr><td><code>UPDATE_POLICY=REMOTE/LOCAL/LOCAL_FIRST</code></td><td>Depending on the policy, on server startup, use: <br> <code>REMOTE</code> - (default) patches from patch server; <br> <code>LOCAL</code> - only locally cached patches, if none cached (caching is done automatically) - do nothing; <br> <code>LOCAL_FIRST</code>- see if locally cached patches exist, and load them. If not, try getting them from remote server.</td></tr><tr><td><code>IGNORE_UNKNOWN_KERNEL=True/False</code></td><td>Don&#39;t provide notification if unknown kernel on auto-update. [kernelcare 2.5+]</td></tr><tr><td><code>LOAD_KCARE_SYSCTL</code></td><td>Controls if <code>/etc/sysconfig/kcare/sysctl.conf</code> will be loaded on patchset load. True by default. [kernelcare 2.7+]</td></tr><tr><td><code>[AUTO_]UPDATE_DELAY=&lt;num&gt;h/&lt;num&gt;d</code></td><td>Use patchsets not newer than specified time. For example <code>24h</code> or <code>2d</code>. <code>AUTO_UPDATE_DELAY</code> works for <code>auto</code> and <code>smart</code> modes. <code>UPDATE_DELAY</code> works for all modes. [kernelcare 2.82+]</td></tr><tr><td><code>REPORT_FQDN=True/False</code></td><td>Force using Fully Qualified Domain as a hostname. False by default.</td></tr><tr><td><code>FORCE_GID=N</code></td><td>Use this group ID for symlink protection patch. By default, it&#39;s 48 (default Apache user GID) or 99 (<code>nobody</code> user)</td></tr></tbody></table><h3 id="disabling-some-patches" tabindex="-1"><a class="header-anchor" href="#disabling-some-patches" aria-hidden="true">#</a> Disabling some patches</h3><p>Some patches might affect the functioning of the system, and we created a way to disable them.</p><p>This is done via the <code>sysctl</code> command.</p><p>When new patchsets load, KernelCare SimplePatch sysctl options get reset. To prevent that we added a file:</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>/etc/sysconfig/kcare/sysctl.conf 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>Options in this file will be loaded automatically on new patchset load.</p><p>To disable loading these options, specify <code>LOAD_KCARE_SYSCTL=0</code> in <code>/etc/sysconfig/kcare/kcare.conf</code> To disable the patch, set the corresponding kcare option to <code>1</code>.</p><p>Patches that can be disabled:</p><table><thead><tr><th>Patch</th><th>sysctl</th></tr></thead><tbody><tr><td>CVE-2015-5157</td><td>kcare_modify_ldt</td></tr></tbody></table><h3 id="extra-patchset" tabindex="-1"><a class="header-anchor" href="#extra-patchset" aria-hidden="true">#</a> Extra patchset</h3><div class="tip custom-block"><p class="custom-block-title">Note:</p><p>KernelCare SimplePatch 2.12-5 or higher</p></div><p>KernelCare SimplePatch Extra patchset includes all the security fixes from KernelCare SimplePatch for AlmaLinux, CentOS 6, CentOS 7, and CentOS 8 as well as symlink protection and the IPSet bugfix for CentOS 6.</p><p>To enable extra patches and apply updates, run:</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>kcarectl --set-patch-type extra --update
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>To enable extra patches without an update, run:</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>kcarectl --set-patch-type extra
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>The &#39;extra&#39; patch will be applied on the next automatic update. To see details, run:</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>kcarectl --patch-info 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>You should see something similar to:</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>OS: centos6 
kernel: kernel-2.6.32-696.6.3.el6 
time: 2017-07-31 22:46:22 
uname: 2.6.32-696.6.3.el6 
kpatch-name: 2.6.32
/symlink-protection.patch 
kpatch-description: symlink protection // If you see this patch, it mean that you can enable symlink protection. 
kpatch-kernel: kernel-2.6.32-279.2.1.el6 
kpatch-cve: N/A 
kpatch-cvss: N/A 
kpatch-cve-url: N/A 
kpatch-patch-url: https://gerrit.cloudlinux.com/#/c/16508/ 
kpatch-name: 2.6.32/symlink-protection.kpatch-1.patch 
kpatch-description: symlink protection (kpatch adaptation) 
kpatch-kernel: kernel-2.6.32-279.2.1.el6 
kpatch-cve: N/A 
kpatch-cvss: N/A 
kpatch-cve-url: N/A 
kpatch-patch-url: https://gerrit.cloudlinux.com/#/c/16508/ 
kpatch-name: 2.6.32/ipset-fix-list-shrinking.patch 
kpatch-description: fix ipset list shrinking for no reason 
kpatch-kernel: N/A 
kpatch-cve: N/A 
kpatch-cvss: N/A 
kpatch-cve-url: N/A 
kpatch-patch-url: https://bugs.centos.org/view.php?id=13499 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>To enable Symlink Owner Match Protection, add <code>fs.enforce_symlinksifowner=1</code> to <code>/etc/sysconfig/kcare/sysctl.conf</code> and run:</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>sysctl -p /etc/sysconfig/kcare/sysctl.conf
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="uefi-secure-boot-support" tabindex="-1"><a class="header-anchor" href="#uefi-secure-boot-support" aria-hidden="true">#</a> UEFI Secure Boot Support</h3><p>KernelCare supports systems with Secure Boot enabled in UEFI firmware. The KernelCare Agent uses a certificate that must be added to the Secure Boot trust chain to sign kernel modules. You can use the automated setup method (recommended), which uses a certificate embedded in a Microsoft-signed helper binary, or manually add a public certificate to the MOK database.</p><h4 id="automated-setup-(recommended)" tabindex="-1"><a class="header-anchor" href="#automated-setup-(recommended)" aria-hidden="true">#</a> Automated Setup (Recommended)</h4><p>The automated setup method uses a Microsoft-signed helper binary that automatically injects the KernelCare certificate into the Secure Boot trust chain at boot time. This eliminates the need for manual MOK enrollment. The KernelCare Agent package (version 3.0-2 or later) includes this helper binary and a setup script that configures it.</p><p><strong>Supported Distributions:</strong></p><p>The automated setup method is supported on RPM-based distributions (RHEL, CentOS, AlmaLinux, Rocky Linux, Oracle Linux, CloudLinux, Amazon Linux) with EFI boot, shim installed, and Secure Boot enabled. Not available for Debian/Ubuntu.</p><p><strong>Setup steps:</strong></p><ol><li><p>Update the KernelCare Agent to version 3.0-2 or later.</p></li><li><p>Run the setup script as root:</p></li></ol><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>$ /usr/share/kcare/secure_boot/setup_kcare_certs.sh
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>The script verifies the EFI system partition and shim bootloader are present, then places the helper binary in the appropriate location.</p><ol start="3"><li>Reboot the system. The helper binary will automatically inject the certificate during the boot process.</li></ol><h4 id="manual-setup" tabindex="-1"><a class="header-anchor" href="#manual-setup" aria-hidden="true">#</a> Manual Setup</h4><p><strong>Supported Distributions:</strong></p><p>This method of adding a certificate with <code>mokutil</code> is supported on systems that use UEFI Secure Boot with the standard shim and MOK stack.</p><p>If you need to set up the certificate manually or are using an older KernelCare Agent version:</p><ol><li>The latest KernelCare Agent package contains a public certificate at <code>/usr/libexec/kcare/kernelcare_pub.der</code>. For older versions, download it to that location:</li></ol><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>curl -o /usr/libexec/kcare/kernelcare_pub.der https://patches.kernelcare.com/kernelcare_pub.der
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ol start="2"><li>Use <code>mokutil</code> as root to add this MOK to the UEFI firmware:</li></ol><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>$ mokutil --import /usr/libexec/kcare/kernelcare_pub.der
 input password:
 input password again:
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>If you don&#39;t have a MOK password, <code>mokutil</code> will ask you to create one. The password is temporary and will be used on the next boot.</p><ol start="3"><li><p>Reboot your machine to enter the MOK manager EFI utility.</p><p>First, go down to the &#39;Enroll Mok&#39;:</p></li></ol><p><img src="/images/uefi-enroll-mok.png" alt="alt text" title="Select Enroll MOK"></p><p>Then the firmware gives you the option of viewing the new MOK or continuing. Let&#39;s continue.</p><p><img src="/images/uefi-continue.png" alt="alt text" title="Select Continue"></p><p>It then asks you to confirm the enrollment.</p><p><img src="/images/uefi-yes.png" alt="alt text" title="Select Yes"></p><p>Then you will need to enter the password you used when running <code>mokutil --import</code>.</p><p><img src="/images/uefi-password.png" alt="alt text" title="Enter the password"></p><p>Finally, the firmware will ask you to reboot.</p><p><img src="/images/uefi-ok.png" alt="alt text" title="Select OK"></p><h4 id="verification" tabindex="-1"><a class="header-anchor" href="#verification" aria-hidden="true">#</a> Verification</h4><p>After completing either setup method and rebooting, verify the certificate was enrolled successfully:</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>$ mokutil --list-enrolled | egrep -i &#39;SHA1|Issuer&#39;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>In some cases, the enrolled key may not appear in the mokutil output but can be verified with:</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>$ dmesg | grep -i &#39;cloud linux&#39;
[   0.722149] EFI: Loaded cert &#39;Cloud Linux Software, Inc: Kernel Module Signing Key: 12ff0613c0f80cfba3b2f8eba71ebc27c5a76170&#39; linked to &#39;.system_keyring&#39;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>After successful verification, KernelCare should be able to apply patches as usual on systems with Secure Boot enabled.</p><h3 id="live-patching-and-fips-compliance" tabindex="-1"><a class="header-anchor" href="#live-patching-and-fips-compliance" aria-hidden="true">#</a> Live patching and FIPS compliance</h3><p>The FIPS-140 certification of a Linux kernel validates that the cryptography contained within a Linux kernel complies with the US government FIPS-140 data protection standard. Meaning that algorithms like AES, the random generator and other cryptographic aspects of the kernel are implemented as the standard defines.</p><p>At the same time the certification is a lengthy process --a typical validation can take almost a year-- and for that reason only some of each vendor&#39;s kernels are validated. That is because vendors release new kernels with security and feature updates on a regular cadence some as often as weekly, irrespective of their FIPS validation status. This means users of FIPS validated kernels need to choose between: (a) strict compliance by staying on the same kernel without updating until the next validated kernel is available and (b) reducing their security risk by installing new kernels with security updates even if they are not validated. The same story applies to the vendor&#39;s live patching solutions.</p><p>With KernelCare SimplePatch it is possible to live patch FIPS-140 validated Linux kernels, for example at the Red Hat Enterprise Linux operating system. The live patches applied to these kernels, in this example, consist of the same RHEL kernel patches but are limited to the ones addressing security vulnerabilities. That way, a live patched kernel contains the same security fixes as a vendor update without any feature or bug-fix updates, e.g. updates that may change the cryptographic subsystem for performance or other non-security related reasons.</p><p><strong>In this way, security-conscious users of FIPS-validated Linux kernels that today apply their vendor&#39;s security patches can rely on KernelCare SimplePatch live patching the same way they do with their vendor&#39;s security updates.</strong> Furthermore, KernelCare live patching applies the minimum possible updates to the validated kernel by explicitly excluding any non-security updates.</p><h3 id="firewall-and-proxy-settings" tabindex="-1"><a class="header-anchor" href="#firewall-and-proxy-settings" aria-hidden="true">#</a> Firewall and Proxy Settings</h3><h4 id="patching-servers-through-firewall" tabindex="-1"><a class="header-anchor" href="#patching-servers-through-firewall" aria-hidden="true">#</a> Patching servers through firewall</h4><p>As long as your servers have access to the Internet, even behind NAT - you will be able to use KernelCare SimplePatch patch server without any problems.</p><p>Generally, KernelCare SimplePatch requires connection to only two servers to work:</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>cln.cloudlinux.com patches.kernelcare.com 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>An additional address is used for KernelCare SimplePatch agent installation/update:</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>repo.cloudlinux.com 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><img src="/images/patchingthroughfirewall.png" alt=""></p><h4 id="patching-servers-through-proxy" tabindex="-1"><a class="header-anchor" href="#patching-servers-through-proxy" aria-hidden="true">#</a> Patching servers through proxy</h4><p>If your servers don&#39;t have direct Internet access but can gain access to the Internet using proxy, the configuration is not that different. KernelCare SimplePatch can pick up standard environment variables for a proxy.</p><p>Make sure you have environment settings for proxy setup, and everything else will be the same as if servers were directly connected to the Internet:</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>export http_proxy=http://proxy.domain.com:port # export https_proxy=http://proxy.domain.com:port 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>NoteSettings defined by export are case-insensitive, so the example above could be as follows for certain software:</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>export HTTP_PROXY=http://proxy.domain.com:port # export HTTPS_PROXY=http://proxy.domain.com:port 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>You can define these settings in the KernelCare SimplePatch config <code>/etc/sysconfig/kcare/kcare.conf</code>, for example:</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>cat /etc/sysconfig/kcare/kcare.conf AUTO_UPDATE=True HTTPS_PROXY=http://myproxy.com:59794 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>If you define these settings in the config, you don&#39;t need to export them each <code>kcarectl</code> launch and don&#39;t need to edit cron jobs.</p><p>All <code>kcarectl</code> launches will be aware of proxy settings from the config. In this case, you need to set proxy settings only once.</p><p><img src="/images/patchingthroughproxy.png" alt=""></p><h3 id="kernelcare-on-aws---deployment-user-guide" tabindex="-1"><a class="header-anchor" href="#kernelcare-on-aws---deployment-user-guide" aria-hidden="true">#</a> KernelCare on AWS - Deployment User Guide</h3><h4 id="prerequisites-and-requirements" tabindex="-1"><a class="header-anchor" href="#prerequisites-and-requirements" aria-hidden="true">#</a> Prerequisites and Requirements</h4><p>KernelCare can be installed on any x86_64 compatible server or VM running one of the following distributions:</p><ul><li>Amazon Linux 1, 2</li><li>CentOS 6, 7, Xen4CentOS, CentOS-Plus, ElRepo</li><li>CloudLinux 6, 7</li><li>Debian 7, 8, 9, 8-backports</li><li>Oracle Linux 6, 7</li><li>ProxmoxVE 3,4,5</li><li>RedHat EL 6, 7</li><li>Ubuntu 14.04, 16.04, 18.04</li><li>Virtuozzo 6</li></ul><p>The exact list of compatible kernels can be found at the following link: <a href="https://patches.kernelcare.com/" target="_blank" rel="noopener noreferrer">https://patches.kernelcare.com/</a></p><p>Standard OS kernels are required in most cases unless the custom kernel is supported.</p><p>The software can be installed on a running server and doesn&#39;t require a reboot.</p><p>Basic Linux skills are sufficient to deploy KernelCare on AWS. Simple deployments involve just an EC2 instance. KernelCare is available using the BYOL model. You need to register in our <a href="https://cln.cloudlinux.com/console" target="_blank" rel="noopener noreferrer">customer portal</a> to get a trial license. Once you get the trial license, you need to register your running EC2 instance with the activation key.</p><h4 id="architectural-design" tabindex="-1"><a class="header-anchor" href="#architectural-design" aria-hidden="true">#</a> Architectural Design</h4><p>As long as your servers have access to the Internet, even behind NAT - you will be able to use KernelCare without any problems.</p><p>Generally, KernelCare requires a connection to only two servers to work:</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>cln.cloudlinux.com patches.kernelcare.com
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><img src="/images/AWS_arch2.png" alt=""></p><p>If your servers don&#39;t have direct Internet access but can gain access to the Internet using a proxy, the configuration is not that different. KernelCare can pick up standard environment variables for proxies.</p><p><img src="/images/AWS_proxy_arch2.png" alt=""></p><p>Make sure you have environment settings for your proxy setup, and everything else will be the same as if the servers were directly connected to the Internet:</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>export http_proxy=http://proxy.domain.com:port # export https_proxy=http://proxy.domain.com:port 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="security" tabindex="-1"><a class="header-anchor" href="#security" aria-hidden="true">#</a> Security</h4><p>The only thing you need to be able to install/control your KernelCare SimplePatch deployment is SSH access (root credentials, key-based authentication/sudo, or similar mechanisms are preferred).</p><h4 id="sizing" tabindex="-1"><a class="header-anchor" href="#sizing" aria-hidden="true">#</a> Sizing</h4><p>KernelCare SimplePatch agent has a tiny RAM footprint - binary patches usually require less than 1 MB.</p><h4 id="deployment-guidance" tabindex="-1"><a class="header-anchor" href="#deployment-guidance" aria-hidden="true">#</a> Deployment Guidance</h4><p>To install KernelCare SimplePatch, run:</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>curl -s -L https://kernelcare.com/installer | bash 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>or:</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>wget -qq -O - https://kernelcare.com/installer | bash 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>If you are using IP-based license, nothing else required to be done. If you are using key-based license, run:</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>kcarectl --register &lt;KEY&gt; 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>Where <code>KEY</code> is the registration key code string provided when you signed up for a trial or purchased the product.</p><p>You can easily automate KernelCare SimplePatch deployment with Ansible, Puppet, Chef or other orchestration tools. Here are the steps that may be automated:</p><ol><li>Distribute KernelCare SimplePatch agent package (optional - required only for servers with no access to the Internet) and a KernelCare SimplePatch agent configuration file (<code>/etc/sysconfig/kcare/kcare.conf</code>);</li><li>Set required environmental variables (optional);</li><li>Install KernelCare SimplePatch agent from either locally available package or central KernelCare download location;</li><li>Register KernelCare SimplePatch with either license key or IP-based license.</li></ol><h4 id="health-check" tabindex="-1"><a class="header-anchor" href="#health-check" aria-hidden="true">#</a> Health Check</h4><p>Systems protected by KernelCare SimplePatch can be monitored using TuxCare Portal available at <a href="https://portal.tuxcare.com/" target="_blank" rel="noopener noreferrer">https://portal.tuxcare.com/</a>. Registered KernelCare SimplePatch installations are grouped by license keys. Kernels that are marked with the exclamation sign in amber do not have the latest patches installed.</p><p><img src="/images/KC-Ent-monit.png" alt=""></p><p>In either case, you can check whether the latest available patch has been applied by running the following command on a system protected by KernelCare SimplePatch:</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>kcarectl --check 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="backup-and-recovery" tabindex="-1"><a class="header-anchor" href="#backup-and-recovery" aria-hidden="true">#</a> Backup and Recovery</h4><p>There is no reason to backup KernelCare SimplePatch. KernelCare SimplePatch doesn&#39;t store any data. You can always re-install and re-register KernelCare SimplePatch. To backup the configuration file of KernelCare SimplePatch if you have modified it, backup the <code>/etc/sysconfig/kcare/</code> folder.</p><h4 id="routine-maintenance" tabindex="-1"><a class="header-anchor" href="#routine-maintenance" aria-hidden="true">#</a> Routine Maintenance</h4><p>KernelCare SimplePatch is packaged in RPM/DEB packages (depending on Linux distribution) and will update any time system packages are updated. No additional maintenance is needed.</p><h4 id="emergency-maintenance" tabindex="-1"><a class="header-anchor" href="#emergency-maintenance" aria-hidden="true">#</a> Emergency Maintenance</h4><p>If one of your instances degraded, once you start another instance based on EBS or snapshot - KernelCare SimplePatch will continue working as before, no additional work is needed. If you set up a new server instead, re-register KernelCare SimplePatch on the new server. If you decide to uninstall patches, run the command:</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>kcarectl --unload
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>Or to completely remove the KernelCare SimplePatch package run one of the following commands:</p><ul><li>on RPM-based systems:</li></ul><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>yum remove kernelcare
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li>or on DEB-based systems:</li></ul><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>apt-get remove kernelcare 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="patch-feed-advanced-options" tabindex="-1"><a class="header-anchor" href="#patch-feed-advanced-options" aria-hidden="true">#</a> Patch Feed Advanced Options</h3><h4 id="delayed-feeds" tabindex="-1"><a class="header-anchor" href="#delayed-feeds" aria-hidden="true">#</a> Delayed Feeds</h4><p>The KernelCare SimplePatch patch server provides the option to delay the installation of patches:</p><ul><li><strong>Delayed feeds</strong> - instructs KernelCare to skip loading patches that were released within the last 12/24/48 hours. The alternate feed option is enabled by setting the <code>PREFIX</code> variable in <code>/etc/sysconfig/kcare/kcare.conf</code> to one of <code>test/12h/24h/48h</code>.</li></ul><h2 id="kernelcare-enterprise" tabindex="-1"><a class="header-anchor" href="#kernelcare-enterprise" aria-hidden="true">#</a> KernelCare Enterprise</h2><p>KernelCare Enterprise live patching enhances customers&#39; vulnerability patching programs by providing live patches to the Linux kernel and, optionally (with an add-on), to critical userspace components. The systems are patched according to your patch deployment policy, allowing you to customize your patch management to align with the needs of your unique environment, whether online or air-gapped.</p><p>KernelCare Enterprise can be extended with the following add-ons:</p><ul><li>LibCare - for live patching of critical userspace components.</li><li>QEMUCare - for live patching of QEMU-based virtualization systems.</li></ul><p>The sections below describe KernelCare and LibCare live patching in more detail.</p><h3 id="kernelcare-1" tabindex="-1"><a class="header-anchor" href="#kernelcare-1" aria-hidden="true">#</a> KernelCare</h3><h4 id="introduction-1" tabindex="-1"><a class="header-anchor" href="#introduction-1" aria-hidden="true">#</a> Introduction</h4><p>KernelCare Enterprise is a live kernel patching product that provides security patches for a range of popular Linux kernels that can be installed without rebooting the system. It supports kernels of Enterprise Linux operating systems, i.e., RHEL, Oracle, Rocky, AlmaLinux, and CentOS, as well as Ubuntu and Debian. Each individual kernel receives new live patches for as long as the kernel vendor releases security updates for the series.</p><p>The KernelCare Enterprise offering consists of the client application, the live patching service hosted by TuxCare, and an optional on-prem management server. The client application runs on machines, periodically checks for available patches, downloads, verifies, and installs them.</p><p>At the same time, complex enterprise environments often follow policies that require a gradual roll-out of updates to reduce risk or have high-security isolated environments that need to be updated. ePortal is an on-prem management server allowing organizations to define their rollout policy and remain in full control of which machines will get updated and when.</p><h4 id="the-live-patching-process-1" tabindex="-1"><a class="header-anchor" href="#the-live-patching-process-1" aria-hidden="true">#</a> The live patching process</h4><p>When a new vulnerability is detected in the Linux kernel, TuxCare creates a live patch addressing the vulnerability. After the live patch is made available, it is tested in TuxCare’s internal server farm and then promoted gradually to a series of testing tiers, ensuring that any released live patch has been tested sufficient time on live systems. Once the patch is released, systems that enable the KernelCare Enterprise client will receive the patch over an authenticated channel and apply it.</p><h4 id="eportal" tabindex="-1"><a class="header-anchor" href="#eportal" aria-hidden="true">#</a> ePortal</h4><p>Many organizations have a gradual patch roll-out policy or maintain a strict policy on which systems get upgraded and when. With ePortal, an on-prem management server, you can use the patch roll-out policy of your choice while automatically deploying patches in your air-gapped environment - all with a simple user interface.</p><h4 id="live-patching-testing-tiers" tabindex="-1"><a class="header-anchor" href="#live-patching-testing-tiers" aria-hidden="true">#</a> Live patching testing tiers</h4><p>KernelCare Enterprise delivers live patches to “tiers”. A tier is a target audience for the delivery of a patch. Your tier depends on whether your systems receive updates directly from the TuxCare Portal repository or use ePortal as a proxy to gradually roll out patches according to your patching policy. The differences are outlined below.</p><table><thead><tr><th>TIER</th><th>DESCRIPTION</th></tr></thead><tbody><tr><td>Internal</td><td>For internal TuxCare use. Updates are first tested and then applied across TuxCare infrastructure to decrease the odds of a faulty patch making it to customer machines.</td></tr><tr><td>TuxCare Portal</td><td>Patches are delivered to these machines next.</td></tr><tr><td>ePortal Customers</td><td>Patches become available in the ePortal last. However, ePortal customers can customize the updates to receive them as soon as they become available in the test feed.</td></tr></tbody></table><p>Our kernel team closely monitors the patch health internally before promoting it to the TuxCare Portal and further monitoring is done before promoting the patch to ePortal servers.</p><h4 id="kernel-patching-lifetime-1" tabindex="-1"><a class="header-anchor" href="#kernel-patching-lifetime-1" aria-hidden="true">#</a> Kernel patching lifetime</h4><p>KernelCare Enterprise offers live patches for each individual kernel for as long as the kernel vendor releases security updates for the series. This allows you to enjoy continuous protection for your existing kernels without being bound by the kernel vendor’s release schedule when planning your maintenance windows.</p><h4 id="vulnerability-coverage-1" tabindex="-1"><a class="header-anchor" href="#vulnerability-coverage-1" aria-hidden="true">#</a> Vulnerability coverage</h4><p>During the lifecycle of an operating system, TuxCare makes commercially reasonable efforts to provide live patches for all vulnerability fixes provided by the vendor, irrespective of their vulnerability rating. We may also address vulnerabilities that haven&#39;t been addressed by the OS vendor if they gained significant attention and were being actively discussed, exploited (according to the <a href="https://www.cisa.gov/known-exploited-vulnerabilities-catalog" target="_blank" rel="noopener noreferrer">CISA list</a>), or researched by the cybersecurity community.</p><h4 id="target-response-rates-1" tabindex="-1"><a class="header-anchor" href="#target-response-rates-1" aria-hidden="true">#</a> Target response rates</h4><p>TuxCare is committed to delivering timely security updates. We aim to deliver live patches for all CVEs patched by the vendor within 10 days from when the vulnerability is publicly disclosed. This rapid response time significantly reduces the opportunity window for a potential attack and meets most security regulation requirements. However, a live patch for a vulnerability can be significantly more complex than an ordinary kernel patch, and due to the additional complexity, can take more time to develop and test.</p><h4 id="supported-architectures-1" tabindex="-1"><a class="header-anchor" href="#supported-architectures-1" aria-hidden="true">#</a> Supported architectures</h4><p>KernelCare is available for both x86-64 (Intel and AMD) and ARM64 architectures.</p><h4 id="supported-linux-distros-and-kernels-1" tabindex="-1"><a class="header-anchor" href="#supported-linux-distros-and-kernels-1" aria-hidden="true">#</a> Supported Linux distros and kernels</h4><p>Customers can find detailed information about supported kernels, Linux distributions, specific vulnerabilities, and live patches provided by KernelCare and LibCare for each of the supported Linux distributions at <a href="https://patches.kernelcare.com/" target="_blank" rel="noopener noreferrer">https://patches.kernelcare.com/</a>.</p><h4 id="end-of-life-(eol)-policy-1" tabindex="-1"><a class="header-anchor" href="#end-of-life-(eol)-policy-1" aria-hidden="true">#</a> End-of-life (EOL) policy</h4><p>TuxCare will stop supporting live patching for specific distros if there are no security advisories provided by the distro&#39;s vendor for the last 365 days. In this case, all customers running the affected distributions are notified about the upcoming EOL. Existing live patches for EOL distributions are available for the next 6 years after the EOL date.</p><h4 id="technical-support-1" tabindex="-1"><a class="header-anchor" href="#technical-support-1" aria-hidden="true">#</a> Technical Support</h4><p>All TuxCare live patching products include technical support provided according to the <a href="https://tuxcare.com/TuxCare-support-policy.pdf" target="_blank" rel="noopener noreferrer">TuxCare support policy</a>. It delivers 24/7/365 access to our engineers through the <a href="https://tuxcare.com/support-portal/" target="_blank" rel="noopener noreferrer">TuxCare Support Portal</a> and to our online knowledge base.</p><h4 id="getting-a-trial-license-1" tabindex="-1"><a class="header-anchor" href="#getting-a-trial-license-1" aria-hidden="true">#</a> Getting a trial license</h4><p>You will need a trial activation key to be able to use the KernelCare Enterprise. The trial license subscription will work for 30 days. You can request your free trial here <a href="https://tuxcare.com/free-trial/" target="_blank" rel="noopener noreferrer">https://tuxcare.com/free-trial/</a>.</p><p>If you have any questions regarding using your trial subscription, contact <a href="mailto:sales@tuxcare.com">sales@tuxcare.com</a> and we will help.</p><h4 id="installation-1" tabindex="-1"><a class="header-anchor" href="#installation-1" aria-hidden="true">#</a> Installation</h4><p>KernelCare Enterprise is compatible with 64-bit versions of CloudLinuxOS/CentOS 6, 7 and 8, AlmaLinux/RHEL 6, 7, 8 and 9, Oracle Linux 6 and 7, Amazon Linux 1 and 2, Virtuozzo/PCS/OpenVZ 2.6.32, Debian 8, 9 and 10, Proxmox VE 5 and 6, Virt-SIG/Xen4CentOS 6 and 7, Ubuntu 14.04, 15.04, 16.04, 18.04 and 20.04 kernels. The list of compatible kernels can be found at the following link: <a href="https://patches.kernelcare.com/" target="_blank" rel="noopener noreferrer">https://patches.kernelcare.com/</a></p><p>To install KernelCare Enterprise, run the following as root:</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code># curl -s -L https://kernelcare.com/installer | bash
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>or:</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code># wget -qq -O - https://kernelcare.com/installer | bash
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>If you are using an IP-based license, nothing else is required to be done.</p><p>If you are using a key-based license, run:</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code># kcarectl --register &lt;KEY&gt;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>Where <code>KEY</code> is the registration key code string provided when you sign up for purchase or trial of the product.</p><p>If you are experiencing a <code>Key limit reached</code> error after the end of the trial period, you should first unregister the server by running:</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code># kcarectl --unregister
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>To check if patches applied, run:</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code># kcarectl --info
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>The software will automatically check for new patches every 4 hours.</p><p>If you would like to run update manually:</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code># kcarectl --update
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>To check current kernel compatibility with KernelCare, use the following <a href="https://raw.githubusercontent.com/iseletsk/kernelchecker/master/py/kc-compat.py" target="_blank" rel="noopener noreferrer">script</a> by running:</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>$ curl -s -L https://kernelcare.com/checker | python
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>or:</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>$ wget -qq -O - https://kernelcare.com/checker | python
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="update-1" tabindex="-1"><a class="header-anchor" href="#update-1" aria-hidden="true">#</a> Update</h4><p>To update the agent package to the latest version use:</p><ul><li>For rpm-based distributions (CentOS, RedHat, etc):</li></ul><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code># yum install -y kernelcare
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>or:</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code># dnf install -y kernelcare
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li>For apt-based distributions (Debian, Ubuntu, etc):</li></ul><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code># apt-get install kernelcare
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>or:</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code># apt install kernelcare
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="uninstalling-1" tabindex="-1"><a class="header-anchor" href="#uninstalling-1" aria-hidden="true">#</a> Uninstalling</h4><p>To uninstall KernelCare Enterprise, run the following as root:</p><ul><li>For CloudLinux, CentOS, RHEL, Virtuozzo, OpenVZ:</li></ul><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code># yum remove kernelcare
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>or:</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code># dnf remove kernelcare
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li>For Ubuntu, Debian, Proxmox VE:</li></ul><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code># apt-get remove kernelcare
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>or:</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code># apt purge kernelcare
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>This will also unlink the system from its activation key (provided there is network connectivity to the CLN Portal). However, you&#39;ll need to remove the license from the CLN Portal manually if you don&#39;t plan to use the service anymore.</p><h4 id="switching-from-ksplice-1" tabindex="-1"><a class="header-anchor" href="#switching-from-ksplice-1" aria-hidden="true">#</a> Switching from Ksplice</h4><p>To switch from Ksplice to KernelCare Enterprise, use the following script that uninstalls Ksplice and installs KernelCare Enterprise instead.</p><p>It will automatically detect and abort if the system is not 64-bit (as KernelCare Enterprise doesn&#39;t support it).</p><p>It will also detect when the Ksplice module cannot be uninstalled and retries multiple times.</p><p>Download the script here: <a href="https://patches.kernelcare.com/ksplice2kcare" target="_blank" rel="noopener noreferrer">https://patches.kernelcare.com/ksplice2kcare</a></p><p>Run the command:</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code># bash ksplice2kcare &lt;KERNELCARE_KEY&gt;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>The key can be created/retrieved in KernelCare Enterprise Keys section of CLN.</p><p>If you want to use IP based licenses, run:</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code># bash ksplice2kcare IP
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>You have to add an IP license for that server, and it is just the two letters <code>IP</code>, not your actual IP address.</p><p>By default the script will attempt 3 times to uninstall Ksplice, waiting 60 seconds in between. You can run it using <code>nohup</code> if you don&#39;t want to wait.</p><p>You can change that by editing the script and changing <code>RETRY</code> and <code>SLEEP</code> values.</p><p>The script will exit with exit code <code>0</code> and message <code>Done</code> on success. Otherwise, it will produce exit code <code>-1</code></p><p>The complete log file can be found at <code>/var/log/ksplice2kcare.log</code></p><h5 id="canonical-livepatch-1" tabindex="-1"><a class="header-anchor" href="#canonical-livepatch-1" aria-hidden="true">#</a> Canonical Livepatch</h5><p>KernelCare Enterprise is not compatible with Canonical Livepatch and should not be used on the same system.</p><h4 id="basic-management-1" tabindex="-1"><a class="header-anchor" href="#basic-management-1" aria-hidden="true">#</a> Basic management</h4><p>To disable automatic updates, edit the file <code>/etc/sysconfig/kcare/kcare.conf</code></p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>AUTO_UPDATE=False
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>To check the updated &#39;effective&#39; version, run:</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code># kcarectl --uname
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>We provide a convenience script <code>/usr/bin/kcare-uname</code> that has same syntax as <code>uname</code></p><p>To see applied patches, run:</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code># kcarectl --patch-info
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="command-line-tools-1" tabindex="-1"><a class="header-anchor" href="#command-line-tools-1" aria-hidden="true">#</a> Command line tools</h4><p><code>/usr/bin/kcarectl</code> - Manage KernelCare Enterprise patches for your kernel.</p><p><code>/usr/bin/kcare-uname</code> - Print certain system information.</p><h5 id="kcarectl-1" tabindex="-1"><a class="header-anchor" href="#kcarectl-1" aria-hidden="true">#</a> kcarectl</h5><table><thead><tr><th></th><th></th></tr></thead><tbody><tr><td><code>-i, --info</code></td><td>Display information about patches installed by KernelCare Enterprise.</td></tr><tr><td><code>-u, --update</code></td><td>Download latest patches, and apply them to current kernel.</td></tr><tr><td><code>--smart-update [since 1.6]</code></td><td>The same as --update, but uses <a aria-current="page" href="/live-patching-services/#config-options" class="router-link-active router-link-exact-active">UPDATE_POLICY</a> to decide where to get patches.</td></tr><tr><td><code>--unload</code></td><td>Unload patches.</td></tr><tr><td><code>--auto-update</code></td><td>Check if update is needed and update.</td></tr><tr><td><code>--patch-info</code></td><td>Lists applied patches.</td></tr><tr><td><code>--status</code></td><td>Return a status of an update. Refer to the exit code: <code>0</code> - host is updated to latest patch level, <code>1</code> - there are no applied patches, <code>2</code> - there are new not applied patches, <code>3</code> - kernel is unsupported</td></tr><tr><td><code>--force [since 2.3]</code></td><td>When used with update, forces applying the patch even if unable to freeze some threads.</td></tr><tr><td><code>--uname</code></td><td>Prints safe kernel version.</td></tr><tr><td><code>--license-info</code></td><td>Output current license info.</td></tr><tr><td><code>--register KEY</code></td><td>Register using KernelCare Enterprise Key.</td></tr><tr><td><code>--register-autoretry [since 2.5]</code></td><td>If registration fails retries registration indefinitely.</td></tr><tr><td><code>--unregister</code></td><td>Unregister from KernelCare Enterprise for Key based servers.</td></tr><tr><td><code>--userspace-update [PATCHES]</code></td><td>Download latest patches and apply them to the corresponding userspace processes. Сan be set so that only certain types of patches are applied.</td></tr><tr><td><code>--test</code></td><td>Try test builds instead of production builds (deprecated, use --prefix=test instead).</td></tr><tr><td><code>--prefix</code></td><td>Patch source prefix, used to test different builds, by downloading builds from a different location, based on prefix (v2.2+)</td></tr><tr><td><code>--version</code></td><td>Print KernelCare Enterprise version.</td></tr><tr><td><code>--import-key PATH</code></td><td>Import gpg key.</td></tr><tr><td><code>--set-monitoring-key</code></td><td>Set monitoring key for IP based licenses. 16 to 32 characters, alphanumeric only [version 2.1+]</td></tr><tr><td><code>--freezer [since 2.3]</code></td><td>none: don&#39;t freeze any threads; full: freeze all threads; smart: freezes only threads that need to be frozen for patching. If option is not selected, best freezer method is chosen automatically.</td></tr><tr><td><code>--check [since 2.4-1]</code></td><td>Check if new patchset is available, without updating. Exit code 0 means there is a new kernel. 1 when there is no new kernel.</td></tr><tr><td><code>--doctor [since 2.6]</code></td><td>Send a report to the TuxCare support staff for diagnostics.</td></tr><tr><td><code>--set-patch-type extra</code></td><td>To enable extra patches.</td></tr><tr><td><code>--set-patch-type free</code></td><td>To enable free patches.</td></tr><tr><td><code>--set-sticky-patch SET_STICKY_PATCH</code></td><td>Set patch to stick to date in format DDMMYY or retrieve it from KEY if set to KEY (no support for ePortal). Empty to unstick. More info at <a aria-current="page" href="/live-patching-services/#sticky-patches" class="router-link-active router-link-exact-active">Sticky Patches</a>.</td></tr><tr><td><code>--tag COMMAND</code></td><td>Adds an extra <em>Tag</em> field for a server. COMMAND is a user-defined parameter.</td></tr></tbody></table><div class="tip custom-block"><p class="custom-block-title">Note</p><p>Currently available userspace patch types are <code>libs</code> and <code>qemu</code>. To apply patches only for shared libraries, use <code>--userspace-update libs</code></p></div><h5 id="kcare-uname-1" tabindex="-1"><a class="header-anchor" href="#kcare-uname-1" aria-hidden="true">#</a> kcare-uname</h5><p>Print certain system information. Default is <code>-s</code></p><table><thead><tr><th></th><th></th></tr></thead><tbody><tr><td><code>-a, --all</code></td><td>print all information in the following order, except omit <code>-p</code> and <code>-i</code> if unknown</td></tr><tr><td><code>-s, --kernel-name</code></td><td>print the kernel name</td></tr><tr><td><code>-n, --nodename</code></td><td>print the network node hostname</td></tr><tr><td><code>-r, --kernel-release</code></td><td>print the kernel release</td></tr><tr><td><code>-v, --kernel-version</code></td><td>print the kernel version</td></tr><tr><td><code>-m, --machine</code></td><td>print the machine hardware name</td></tr><tr><td><code>-p, --processor</code></td><td>print the processor type or <code>unknown</code></td></tr><tr><td><code>-i, --hardware-platform</code></td><td>print the hardware platform or <code>unknown</code></td></tr><tr><td><code>-o, --operating-system</code></td><td>print the operating system</td></tr><tr><td><code>--help</code></td><td>display this help and exit</td></tr><tr><td><code>--version</code></td><td>output version information and exit</td></tr></tbody></table><h5 id="kernelcare-doctor-1" tabindex="-1"><a class="header-anchor" href="#kernelcare-doctor-1" aria-hidden="true">#</a> kernelcare doctor</h5><p>This tool collects essential information about the KernelCare environment and sends it to the support team.</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code># kcarectl --doctor

Generating report...
Uploading...
Key: FRWf74Zw11111111.83991334-1111-1111-1111-681ddd653e5f
Please, provide above mentioned key to KernelCare Support Team
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>The command generates a report and prints out the ID which could be linked to a support ticket.</p><div class="tip custom-block"><p class="custom-block-title">Note</p><p>If there was a connection problem during uploading the report, the report will be stored locally as <code>/root/cl-report</code>. This file should be sent to the support team manually.</p></div><h4 id="config-options-1" tabindex="-1"><a class="header-anchor" href="#config-options-1" aria-hidden="true">#</a> Config options</h4><p><code>kcarectl</code> behavior can be configured using <code>/etc/sysconfig/kcare/kcare.conf</code></p><table><thead><tr><th></th><th></th></tr></thead><tbody><tr><td><code>AUTO_UPDATE=YES|NO</code></td><td><code>YES</code> - enable auto-update; <code>NO</code> - disable auto-update.</td></tr><tr><td><code>PATCH_METHOD=normal|nofreeze|smart</code></td><td><code>Normal</code> - (default) use freezer;<br><code>Nofreeze</code> - don&#39;t use freezer to freeze processes;<br> <code>Smart</code> - smart freezer freezes only threads that need to be frozen for patching [kernelcare 2.3+].</td></tr><tr><td><code>PATCH_SERVER</code></td><td>Server to use to download patches.</td></tr><tr><td><code>REGISTRATION_URL</code></td><td>Licensing server.</td></tr><tr><td><code>PREFIX=prefix</code></td><td>Patch source prefix, used to test different builds, by downloading builds from a different location, based on prefix [kernelcare 2.2+]</td></tr><tr><td><code>UPDATE_POLICY=REMOTE|LOCAL|LOCAL_FIRST</code></td><td>Depending on the policy, on server startup, use:<br><code>REMOTE</code> - (default) patches from patch server.<br><code>LOCAL</code> - only locally cached patches, if none cached (caching is done automatically) - do nothing.<br><code>LOCAL_FIRST</code> - see if locally cached patches exist, and load them. If not, try getting them from remote server.</td></tr><tr><td><code>IGNORE_UNKNOWN_KERNEL=True|False</code></td><td>Don&#39;t provide notification if unknown kernel on auto-update. [kernelcare 2.5+]</td></tr><tr><td><code>LOAD_KCARE_SYSCTL</code></td><td>Controls if <code>/etc/sysconfig/kcare/sysctl.conf</code> will be loaded on patchset load. True by default. [kernelcare 2.7+]</td></tr><tr><td><code>STICKY_PATCH=KEY</code></td><td>Retrieve sticky patch from <code>KEY</code> (see CLN, Key Edit); not supported for IP based servers or ePortal.</td></tr><tr><td><code>STICKY_PATCH=DDMMYY</code></td><td>Stick patch to a particular date. More info at <a aria-current="page" href="/live-patching-services/#sticky-patches" class="router-link-active router-link-exact-active">Sticky Patches</a>.</td></tr><tr><td><code>[AUTO_]UPDATE_DELAY=&lt;num&gt;h|&lt;num&gt;d</code></td><td>Use patchsets not newer than specified time. For example <code>24h</code> or <code>2d</code>. <code>AUTO_UPDATE_DELAY</code> works for <code>auto</code> and <code>smart</code> modes. <code>UPDATE_DELAY</code> works for all modes. [kernelcare 2.82+]</td></tr><tr><td><code>[AUTO_]STICKY_PATCHSET=&lt;patchset&gt;</code></td><td>Use patchsets not newer than specified value. For example <code>K20230908_02</code>. <code>AUTO_STICKY_PATCHSET</code> works for <code>auto</code> and <code>smart</code> modes. <code>STICKY_PATCHSET</code> works for all modes. [kernelcare 2.82+]</td></tr><tr><td><code>REPORT_FQDN=True|False</code></td><td>Force using Fully Qualified Domain as a hostname. False by default.</td></tr><tr><td><code>FORCE_GID=N</code></td><td>Use this group ID for symlink protection patch. By default, it&#39;s 48 (default Apache user GID) or 99 (<code>nobody</code> user)</td></tr><tr><td><code>USERSPACE_PATCHES=libs,qemu</code></td><td>Define which userspace patches will be applyed by default</td></tr></tbody></table><h4 id="disabling-some-patches-1" tabindex="-1"><a class="header-anchor" href="#disabling-some-patches-1" aria-hidden="true">#</a> Disabling some patches</h4><p>Some patches might affect the functioning of the system, and we created a way to disable them.</p><p>This is done via the <code>sysctl</code> command.</p><p>When new patchsets load, KernelCare Enterprise sysctl options get reset. To prevent that we added a file:</p><p><code>/etc/sysconfig/kcare/sysctl.conf</code></p><p>Options in this file will be loaded automatically on new patchset load.</p><p>To disable loading these options, specify <code>LOAD_KCARE_SYSCTL=0</code> in <code>/etc/sysconfig/kcare/kcare.conf</code></p><p>To disable the patch, set the corresponding kcare option to <code>1</code></p><p>Patches that can be disabled:</p><table><thead><tr><th></th><th></th></tr></thead><tbody><tr><td>Patch</td><td><em>sysctl</em> option</td></tr><tr><td>CVE-2015-5157</td><td>kcare_modify_ldt</td></tr></tbody></table><h4 id="extra-patchset-1" tabindex="-1"><a class="header-anchor" href="#extra-patchset-1" aria-hidden="true">#</a> Extra patchset</h4><div class="tip custom-block"><p class="custom-block-title">Note</p><p>KernelCare Enterprise 2.12-5 or higher</p></div><p>KernelCare Enterprise Extra patchset includes all the security fixes from KernelCare Enterprise for AlmaLinux, CentOS 6, CentOS 7, and CentOS 8 as well as symlink protection and the IPSet bugfix for CentOS 6.</p><p>To enable extra patches and apply updates, run:</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code># kcarectl --set-patch-type extra --update
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>To enable extra patches without an update, run:</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code># kcarectl --set-patch-type extra
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>The &#39;extra&#39; patch will be applied on the next automatic update.</p><p>To see details, run:</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code># kcarectl --patch-info
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>You should see something similar to:</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>OS: centos6
kernel: kernel-2.6.32-696.6.3.el6
time: 2017-07-31 22:46:22
uname: 2.6.32-696.6.3.el6

kpatch-name: 2.6.32/symlink-protection.patch
kpatch-description: symlink protection // If you see this patch, it mean that you can enable symlink protection.
kpatch-kernel: kernel-2.6.32-279.2.1.el6
kpatch-cve: N/A
kpatch-cvss: N/A
kpatch-cve-url: N/A
kpatch-patch-url: https://gerrit.cloudlinux.com/#/c/16508/

kpatch-name: 2.6.32/symlink-protection.kpatch-1.patch
kpatch-description: symlink protection (kpatch adaptation)
kpatch-kernel: kernel-2.6.32-279.2.1.el6
kpatch-cve: N/A
kpatch-cvss: N/A
kpatch-cve-url: N/A
kpatch-patch-url: https://gerrit.cloudlinux.com/#/c/16508/

kpatch-name: 2.6.32/ipset-fix-list-shrinking.patch
kpatch-description: fix ipset list shrinking for no reason
kpatch-kernel: N/A
kpatch-cve: N/A
kpatch-cvss: N/A
kpatch-cve-url: N/A
kpatch-patch-url: https://bugs.centos.org/view.php?id=13499
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>To enable Symlink Owner Match Protection, add <code>fs.enforce_symlinksifowner=1</code> to <code>/etc/sysconfig/kcare/sysctl.conf</code> and run:</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code># sysctl -p /etc/sysconfig/kcare/sysctl.conf
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="sticky-patches" tabindex="-1"><a class="header-anchor" href="#sticky-patches" aria-hidden="true">#</a> Sticky patches</h4><div class="tip custom-block"><p class="custom-block-title">Note</p><p>This functionality is not available for ePortal customers. If you are using ePortal, please use <a href="/eportal/#feed-management" class="">Feeds</a> instead.</p></div><div class="tip custom-block"><p class="custom-block-title">Note</p><p>Since v2.82 there is a more convenient way to specify the latest available release via the <code>[AUTO_]STICKY_PATCHSET</code> and <code>[AUTO_]UPDATE_DELAY</code> configuration options. It also works with recent ePortal versions (v2.3+).</p></div><p>Sometimes you don&#39;t want to use the latest patches, and you&#39;d like to control which patches are get installed instead. For example, you have tested the patch released on 25th of May 2018 and want to use that patch across all servers.</p><p>You can do it by setting <code>STICKY_PATCH=25052018</code> (DDMMYYYY format, DDMMYY and YYYY-mm-dd are also valid) in <code>/etc/sysconfig/kcare/kcare.conf</code>, this guarantees that when <code>kcarectl --update</code> or <code>kcarectl --auto-update</code> is called, you will get patches from that date and not the newest patches.</p><p>Alternatively, you can set <code>STICKY_PATCH=KEY</code>, this way you can control the date from which patches will be applied using KernelCare keys in CLN. On update, the actual date will be retrieved from CLN (from Key settings) for the key used to register a particular server (not supported for IP based servers).</p><p>This is very useful if you want to test patches in QA first and later roll them out to production without doing any changes on the systems.</p><p>Here is how you can do that:</p><ul><li>Set <code>STICKY_PATCH=KEY</code> on all your servers.</li><li>Register QA servers with one KEY, and Production servers with ANOTHER key.</li><li>Then, stop new updates for Production servers. In CLN set <code>Sticky Tag</code> to <code>yesterday</code>. You can do it by editing KEY in CLN in DDMMYY format.</li><li>Now, for example, let&#39;s use patches as of 03052018 (DDMMYYYY format). Set them for your QA server key. On the next auto-update, your QA servers will get those patches (auto-updates are typically every 4 hours).</li></ul><p>Once you are happy with these patches, set the same Sticky Tag for Production servers key. In 4 hours your production servers should be updated to the same patches that QA servers were.</p><h5 id="how-to-find-a-proper-sticky-patch-name" tabindex="-1"><a class="header-anchor" href="#how-to-find-a-proper-sticky-patch-name" aria-hidden="true">#</a> How to find a proper sticky patch name</h5><p>Let&#39;s assume that you have a kernel patch that you want to &quot;stick&quot; with. All you need is to find a proper label for that patch.</p><p><img src="/images/sticky-proper-label.png" alt="sticky-proper-label"></p><p>As you can see, the patch was released at 2020-09-16 (16th September 2020). And if you apply a supported date format, it becomes <code>16092020</code>, that will be the sticky patch value.</p><h4 id="scanning-for-vulnerabilities" tabindex="-1"><a class="header-anchor" href="#scanning-for-vulnerabilities" aria-hidden="true">#</a> Scanning for vulnerabilities</h4><p>Identifying the vulnerabilities that apply to your systems is an important task for IT and InfoSec teams, and at TuxCare we make it easy. KernelCare live patching is integrated natively with vulnerability scanners including Tenable Nessus, Qualys, Rapid7 and many others.</p><h5 id="how-to-use-a-vulnerability-scanner-with-kernelcare" tabindex="-1"><a class="header-anchor" href="#how-to-use-a-vulnerability-scanner-with-kernelcare" aria-hidden="true">#</a> How to use a vulnerability scanner with KernelCare</h5><p>It&#39;s rather simple. New scan results after installing a package and applying a patchset should not show any kernel CVEs that are handled by KernelCare Enterprise.</p><p>For example, Nessus for an old kernel shows a lot of detected CVEs before apply live patches:</p><p><img src="/images/scanner-manipulation-before.png" alt="before"></p><p>After the live patches were applied, there are no kernel-related CVEs:</p><p><img src="/images/scanner-manipulation-after.png" alt="after"></p><h5 id="what-if-my-scanner-is-producing-false-positives?" tabindex="-1"><a class="header-anchor" href="#what-if-my-scanner-is-producing-false-positives?" aria-hidden="true">#</a> What if my scanner is producing false positives?</h5><p>If your scanner produces incorrect results due to not being KernelCare aware, we have a solution that works at the OS level to report the correct information to the rpm/dpkg/uname commands; namely <code>kcare-scanner-interface</code></p><p>If you are using a scanner agent the defaults usually work and you can configure the scanner interface like so:</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code># kcare-scanner-interface init

Resetting.
Setting up scanner agents
Done.
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>If you are using SSH credentials-based scanning, then you can configure the scanner interface like so - where user1 and user2 are the usernames your vulnerability scanner will ssh/sudo as:</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code># kcare-scanner-interface init user1 user2

Resetting.
Setting up a scanner-interface for user1
Setting up a scanner-interface for user2
Setting up scanner agents
Done.
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>To disable the scanner interface run:</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code># kcare-scanner-interface disable
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>We don&#39;t recommend enabling the scanner interface as root, as the root user&#39;s command output should not be changed in this way. If your scanner elevates privileges after logging in via SSH, only <code>sudo</code> can be used and not <code>su</code></p><div class="tip custom-block"><p class="custom-block-title">Note</p><p>sudo is not installed by default on some distributions like CentOS 6 but is the default privilege escalation method for all Ubuntu versions. If you do install sudo, be sure to review the configuration in /etc/sudoers and any <code>@include</code> files.</p></div><h5 id="how-to-use-openscap-with-kernelcare" tabindex="-1"><a class="header-anchor" href="#how-to-use-openscap-with-kernelcare" aria-hidden="true">#</a> How to use OpenSCAP with KernelCare</h5><p>OpenSCAP is an open source vulnerability scanner and compliance tool and it can be used to scan a system protected by KernelCare Enterprise. The following commands show how to use OpenSCAP to produce a vulnerability report for a system.</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>$ source /etc/os-release
$ wget https://patches.kernelcare.com/oval/com.kernelcare.${ID}.${VERSION_ID}.xml
$ oscap oval eval --report report.htm com.kernelcare.${ID}.${VERSION_ID}.xml
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="uefi-secure-boot-support-1" tabindex="-1"><a class="header-anchor" href="#uefi-secure-boot-support-1" aria-hidden="true">#</a> UEFI Secure Boot Support</h4><p>KernelCare supports systems with Secure Boot enabled in UEFI firmware. The KernelCare Agent uses a certificate that must be added to the Secure Boot trust chain to sign kernel modules. You can use the automated setup method (recommended), which uses a certificate embedded in a Microsoft-signed helper binary, or manually add a public certificate to the MOK database.</p><h4 id="automated-setup-(recommended)-1" tabindex="-1"><a class="header-anchor" href="#automated-setup-(recommended)-1" aria-hidden="true">#</a> Automated Setup (Recommended)</h4><p>The automated setup method uses a Microsoft-signed helper binary that automatically injects the KernelCare certificate into the Secure Boot trust chain at boot time. This eliminates the need for manual MOK enrollment. The KernelCare Agent package (version 3.0-2 or later) includes this helper binary and a setup script that configures it.</p><p><strong>Supported Distributions:</strong></p><p>The automated setup method is supported on RPM-based distributions (RHEL, CentOS, AlmaLinux, Rocky Linux, Oracle Linux, CloudLinux, Amazon Linux) with EFI boot, shim installed, and Secure Boot enabled. Not available for Debian/Ubuntu.</p><p><strong>Setup steps:</strong></p><ol><li><p>Update the KernelCare Agent to version 3.0-2 or later.</p></li><li><p>Run the setup script as root:</p></li></ol><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>$ /usr/share/kcare/secure_boot/setup_kcare_certs.sh
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>The script verifies the EFI system partition and shim bootloader are present, then places the helper binary in the appropriate location.</p><ol start="3"><li>Reboot the system. The helper binary will automatically inject the certificate during the boot process.</li></ol><h4 id="manual-setup-1" tabindex="-1"><a class="header-anchor" href="#manual-setup-1" aria-hidden="true">#</a> Manual Setup</h4><p><strong>Supported Distributions:</strong></p><p>This method of adding a certificate with <code>mokutil</code> is supported on systems that use UEFI Secure Boot with the standard shim and MOK stack.</p><p>If you need to set up the certificate manually or are using an older KernelCare Agent version:</p><ol><li>The latest KernelCare Agent package contains a public certificate at <code>/usr/libexec/kcare/kernelcare_pub.der</code>. For older versions, download it to that location:</li></ol><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>curl -o /usr/libexec/kcare/kernelcare_pub.der https://patches.kernelcare.com/kernelcare_pub.der
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ol start="2"><li>Use <code>mokutil</code> as root to add this MOK to the UEFI firmware:</li></ol><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>$ mokutil --import /usr/libexec/kcare/kernelcare_pub.der
 input password:
 input password again:
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>If you don&#39;t have a MOK password, <code>mokutil</code> will ask you to create one. The password is temporary and will be used on the next boot.</p><ol start="3"><li><p>Reboot your machine to enter the MOK manager EFI utility.</p><p>First, go down to the &#39;Enroll Mok&#39;:</p></li></ol><p><img src="/images/uefi-enroll-mok.png" alt="alt text" title="Select Enroll MOK"></p><p>Then the firmware gives you the option of viewing the new MOK or continuing. Let&#39;s continue.</p><p><img src="/images/uefi-continue.png" alt="alt text" title="Select Continue"></p><p>It then asks you to confirm the enrollment.</p><p><img src="/images/uefi-yes.png" alt="alt text" title="Select Yes"></p><p>Then you will need to enter the password you used when running <code>mokutil --import</code>.</p><p><img src="/images/uefi-password.png" alt="alt text" title="Enter the password"></p><p>Finally, the firmware will ask you to reboot.</p><p><img src="/images/uefi-ok.png" alt="alt text" title="Select OK"></p><h4 id="verification-1" tabindex="-1"><a class="header-anchor" href="#verification-1" aria-hidden="true">#</a> Verification</h4><p>After completing either setup method and rebooting, verify the certificate was enrolled successfully:</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>$ mokutil --list-enrolled | egrep -i &#39;SHA1|Issuer&#39;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>In some cases, the enrolled key may not appear in the mokutil output but can be verified with:</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>$ dmesg | grep -i &#39;cloud linux&#39;
[   0.722149] EFI: Loaded cert &#39;Cloud Linux Software, Inc: Kernel Module Signing Key: 12ff0613c0f80cfba3b2f8eba71ebc27c5a76170&#39; linked to &#39;.system_keyring&#39;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>After successful verification, KernelCare should be able to apply patches as usual on systems with Secure Boot enabled.</p><h4 id="live-patching-and-fips-compliance-1" tabindex="-1"><a class="header-anchor" href="#live-patching-and-fips-compliance-1" aria-hidden="true">#</a> Live patching and FIPS compliance</h4><p>The FIPS-140 certification of a Linux kernel validates that the cryptography contained within a Linux kernel complies with the US government FIPS-140 data protection standard. Meaning that algorithms like AES, the random generator and other cryptographic aspects of the kernel are implemented as the standard defines.</p><p>At the same time the certification is a lengthy process --a typical validation can take almost a year-- and for that reason only some of each vendor&#39;s kernels are validated. That is because vendors release new kernels with security and feature updates on a regular cadence some as often as weekly, irrespective of their FIPS validation status. This means users of FIPS validated kernels need to choose between: (a) strict compliance by staying on the same kernel without updating until the next validated kernel is available and (b) reducing their security risk by installing new kernels with security updates even if they are not validated. The same story applies to the vendor&#39;s live patching solutions.</p><p>With KernelCare Enterprise it is possible to live patch FIPS-140 validated Linux kernels, for example at the Red Hat Enterprise Linux operating system. The live patches applied to these kernels, in this example, consist of the same RHEL kernel patches but are limited to the ones addressing security vulnerabilities. That way, a live patched kernel contains the same security fixes as a vendor update without any feature or bug-fix updates, e.g. updates that may change the cryptographic subsystem for performance or other non-security related reasons.</p><p><strong>In this way, security-conscious users of FIPS-validated Linux kernels that today apply their vendor&#39;s security patches can rely on KernelCare live patching the same way they do with their vendor&#39;s security updates</strong>. Furthermore, KernelCare live patching applies the minimum possible updates to the validated kernel by explicitly excluding any non-security updates.</p><h4 id="firewall-and-proxy-settings-1" tabindex="-1"><a class="header-anchor" href="#firewall-and-proxy-settings-1" aria-hidden="true">#</a> Firewall and Proxy Settings</h4><h5 id="patching-servers-through-firewall-1" tabindex="-1"><a class="header-anchor" href="#patching-servers-through-firewall-1" aria-hidden="true">#</a> Patching servers through firewall</h5><p>As long as your servers have access to the Internet, even behind NAT - you will be able to use KernelCare patch server without any problems.</p><p>Generally, KernelCare requires connection to only two servers to work:</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>cln.cloudlinux.com
patches.kernelcare.com
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>An additional address is used for KernelCare agent installation/update:</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>repo.cloudlinux.com
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><img src="/images/patchingthroughfirewall.png" alt="through firewall"></p><h5 id="patching-servers-through-proxy-1" tabindex="-1"><a class="header-anchor" href="#patching-servers-through-proxy-1" aria-hidden="true">#</a> Patching servers through proxy</h5><p>If your servers don&#39;t have direct Internet access but can gain access to the Internet using proxy, the configuration is not that different. KernelCare can pick up standard environment variables for a proxy.</p><p>Make sure you have environment settings for proxy setup, and everything else will be the same as if servers were directly connected to the Internet:</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code># export http_proxy=http://proxy.domain.com:port
# export https_proxy=http://proxy.domain.com:port
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><div class="tip custom-block"><p class="custom-block-title">Note</p><p>Settings defined by <code>export</code> are case-insensitive, so the example above could be as follows for certain software:</p></div><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code># export HTTP_PROXY=http://proxy.domain.com:port
# export HTTPS_PROXY=http://proxy.domain.com:port
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>You can define these settings in the KernelCare config <code>/etc/sysconfig/kcare/kcare.conf</code>, for example:</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>$ cat /etc/sysconfig/kcare/kcare.conf

AUTO_UPDATE=True
HTTPS_PROXY=http://myproxy.com:59794
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>If you define these settings in the config, you don&#39;t need to export them each <code>kcarectl</code> launch and don&#39;t need to edit cron jobs.</p><p>All <code>kcarectl</code> launches will be aware of proxy settings from the config. In this case, you need to set proxy settings only once.</p><p><img src="/images/patchingthroughproxy.png" alt="through proxy"></p><h4 id="kernelcare-on-aws---deployment-user-guide-1" tabindex="-1"><a class="header-anchor" href="#kernelcare-on-aws---deployment-user-guide-1" aria-hidden="true">#</a> KernelCare on AWS - Deployment User Guide</h4><h5 id="introductory-material" tabindex="-1"><a class="header-anchor" href="#introductory-material" aria-hidden="true">#</a> Introductory Material</h5><p>The Linux kernel is the most important piece of software on your server, as a security flaw in it can expose all of your services and customer data. KernelCare is a technology that allows you to keep the Linux kernel safe at all times, automatically, without ever having to stop the server and rebooting it causing downtime and inconvenient scheduling of maintenance windows. This improves availability, security, stability, operational costs, and customer satisfaction. It works with almost all mainstream distributions of Linux. It is simple, fast, and very easy to deploy while being able to handle very complex patches and customized kernels if you need them.</p><h5 id="prerequisites-and-requirements-1" tabindex="-1"><a class="header-anchor" href="#prerequisites-and-requirements-1" aria-hidden="true">#</a> Prerequisites and Requirements</h5><p>KernelCare can be installed on any x86_64 compatible server or VM running one of the following distributions:</p><ul><li>Amazon Linux 1, 2</li><li>CentOS 6, 7, Xen4CentOS, CentOS-Plus, ElRepo</li><li>CloudLinux 6, 7</li><li>Debian 7, 8, 9, 8-backports</li><li>Oracle Linux 6, 7</li><li>ProxmoxVE 3,4,5</li><li>RedHat EL 6, 7</li><li>Ubuntu 14.04, 16.04, 18.04</li><li>Virtuozzo 6</li></ul><p>The exact list of compatible kernels can be found at the following link: <a href="https://patches.kernelcare.com/" target="_blank" rel="noopener noreferrer">https://patches.kernelcare.com/</a></p><p>Standard OS kernels are required in most cases unless the custom kernel is supported.</p><p>The software can be installed on a running server and doesn&#39;t require a reboot.</p><p>Basic Linux skills are sufficient to deploy KernelCare on AWS. Simple deployments involve just an EC2 instance. KernelCare is available using the BYOL model. You need to register in our <a href="https://cln.cloudlinux.com" target="_blank" rel="noopener noreferrer">customer portal</a> to get a trial license. Once you get the trial license, you need to register your running EC2 instance with the activation key.</p><h5 id="architectural-design-1" tabindex="-1"><a class="header-anchor" href="#architectural-design-1" aria-hidden="true">#</a> Architectural Design</h5><p>As long as your servers have access to the Internet, even behind NAT - you will be able to use KernelCare without any problems.</p><p>Generally, KernelCare requires connection to only two servers to work:</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>cln.cloudlinux.com
patches.kernelcare.com
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="/images/AWS_arch2.png" alt="aws arch"></p><p>If your servers don&#39;t have direct Internet access but can gain access to the Internet using a proxy, the configuration is not that different. KernelCare can pick up standard environment variables for proxies.</p><p><img src="/images/AWS_proxy_arch2.png" alt="aws proxy"></p><p>Make sure you have environment settings for your proxy setup, and everything else will be the same as if the servers were directly connected to the Internet:</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code># export http_proxy=http://proxy.domain.com:port
# export https_proxy=http://proxy.domain.com:port
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="security-1" tabindex="-1"><a class="header-anchor" href="#security-1" aria-hidden="true">#</a> Security</h5><p>The only thing you need to be able to install/control your KernelCare deployment is SSH access (root credentials, key-based authentication/sudo or similar mechanisms are preferred).</p><h5 id="costs" tabindex="-1"><a class="header-anchor" href="#costs" aria-hidden="true">#</a> Costs</h5><p>KernelCare is billed as a subscription service, for volume pricing please contact <a href="mailto:sales@cloudlinux.com">sales@cloudlinux.com</a></p><h5 id="sizing-1" tabindex="-1"><a class="header-anchor" href="#sizing-1" aria-hidden="true">#</a> Sizing</h5><p>KernelCare agent has a tiny RAM footprint - binary patches usually require less than 1 MB.</p><h5 id="deployment-guidance-1" tabindex="-1"><a class="header-anchor" href="#deployment-guidance-1" aria-hidden="true">#</a> Deployment Guidance</h5><p>To install KernelCare, run:</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code># curl -s -L https://kernelcare.com/installer | bash
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>or:</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code># wget -qq -O - https://kernelcare.com/installer | bash
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>If you are using IP-based license, nothing else required to be done. If you are using key-based license, run:</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code># kcarectl --register &lt;KEY&gt;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>Where <code>KEY</code> is the registration key code string provided when you signed up for a trial or pruchased the product.</p><p>You can easily automate KernelCare deployment with Ansible, Puppet, Chef or other orchestration tools. Here are the steps that may be automated:</p><ol><li>Distribute KernelCare agent package (optional - required only for servers with no access to the Internet) and a KernelCare agent configuration file (<code>/etc/sysconfig/kcare/kcare.conf</code>);</li><li>Set required environmental variables (optional);</li><li>Install KernelCare agent from either locally available package or central KernelCare download location;</li><li>Register KernelCare with either license key or IP-based license.</li></ol><h5 id="health-check-1" tabindex="-1"><a class="header-anchor" href="#health-check-1" aria-hidden="true">#</a> Health Check</h5><p>Systems protected by KernelCare can be monitored by means of CloudLinux Network (CLN) portal available at <a href="https://cln.cloudlinux.com" target="_blank" rel="noopener noreferrer">https://cln.cloudlinux.com</a>. Registered KernelCare installations are grouped by license keys. Kernels that are marked with the exclamation sign in <span style="color:#E76930;">amber</span> do not have the latest patches installed.</p><p><img src="/images/KC-Ent-monit.png" alt="monit"></p><p>In either case, you can check whether the latest available patch has been applied by running the following command on a system protected by KernelCare:</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code># kcarectl --check
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h5 id="backup-and-recovery-1" tabindex="-1"><a class="header-anchor" href="#backup-and-recovery-1" aria-hidden="true">#</a> Backup and Recovery</h5><p>There is no reason to backup KernelCare. KernelCare doesn&#39;t store any data. You can always re-install and re-register KernelCare. To backup the configuration file of KernelCare if you have modified it, backup the <code>/etc/sysconfig/kcare/</code> folder.</p><h5 id="routine-maintenance-1" tabindex="-1"><a class="header-anchor" href="#routine-maintenance-1" aria-hidden="true">#</a> Routine Maintenance</h5><p>KernelCare is packaged in RPM/DEB packages (depending on Linux distribution) and will update any time system packages are updated. No additional maintenance is needed.</p><h5 id="emergency-maintenance-1" tabindex="-1"><a class="header-anchor" href="#emergency-maintenance-1" aria-hidden="true">#</a> Emergency Maintenance</h5><p>If one of your instances degraded, once you start another instance based on EBS or snapshot - KernelCare will continue working as before, no additional work is needed. If you set up a new server instead, re-register KernelCare on the new server. If you decide to uninstall patches, run the command:</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code># kcarectl --unload
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>Or to completely remove the kernelcare package run one of the following commands:</p><ul><li>on RPM-based systems:</li></ul><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code># yum remove kernelcare
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li>or on DEB-based systems:</li></ul><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code># apt-get remove kernelcare
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="patch-feed-advanced-options-1" tabindex="-1"><a class="header-anchor" href="#patch-feed-advanced-options-1" aria-hidden="true">#</a> Patch Feed Advanced Options</h4><h5 id="test-and-delayed-feeds" tabindex="-1"><a class="header-anchor" href="#test-and-delayed-feeds" aria-hidden="true">#</a> Test and Delayed Feeds</h5><p>The KernelCare Patch Server has several patch feeds available in addition to the standard (production) feed:</p><ul><li><strong>Test feed</strong> - the newest patches (test builds) that have not undergone the complete testing process. Test feed makes it possible to start testing new patches earlier.</li><li><strong>Delayed feeds</strong> - instructs KernelCare to skip loading patches that were released within the last 12/24/48 hours.</li></ul><p>The alternate feed option is enabled by setting <code>PREFIX</code> variable in <code>/etc/sysconfig/kcare/kcare.conf</code> to one of <code>test</code>/<code>12h</code>/<code>24h</code>/<code>48h</code>.</p><h5 id="feed-management-with-sticky-patch-feature" tabindex="-1"><a class="header-anchor" href="#feed-management-with-sticky-patch-feature" aria-hidden="true">#</a> Feed Management With Sticky Patch Feature</h5><p>The best way to handle QA and Production environments is to use Sticky tag feature of KernelCare license keys issued from CloudLinux Network (CLN) portal. To use this tag, go to CLN portal -&gt; KernelCare tab -&gt; click on the target key -&gt; Edit Key Info window.</p><p><img src="/images/KC-Ent-list.png" alt="activation keys"></p><p><img src="/images/KC-Ent-edit.png" alt="key details"></p><p>You should provide a separate key for each environment and set them to a particular sticky tag which is actually the date to which all the servers in an environment have to be patched.</p><p><img src="/images/KC-Ent-sticky.png" alt="edit key"></p><p>The date in the Sticky tag field can be any date from May 28, 2018 up to one day before today. To use the Sticky tag feature on the servers to be patched, run:</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>$ kcarectl --set-sticky-patch=KEY
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>Alternatively, you can do the same by adding <code>STICKY_PATCH=KEY</code> to the <code>/etc/sysconfig/kcare/kcare.conf</code> file.</p><div class="tip custom-block"><p class="custom-block-title">Warning</p><p><strong>Do Not</strong> replace the <code>KEY</code> word with the actual KernelCare license key used to register the server, you should just use the word <code>KEY</code></p></div><p>When the Sticky tag feature is enabled for particular servers, all such servers will get patches only released before the date specified in the Sticky tag field. This way, you can add new patches to all the servers in an environment (i.e. registered with the same KernelCare license key) by updating only a single field in the CLN portal.</p><h5 id="support" tabindex="-1"><a class="header-anchor" href="#support" aria-hidden="true">#</a> Support</h5><p>We offer unlimited, 24x7x365 support. Submit a direct support request using <a href="https://support.tuxcare.com/hc/requests/new" target="_blank" rel="noopener noreferrer">this form</a>.</p><ul><li>We answer all support questions within one business day and most within a couple of hours. To expedite the support, run the following command on your server (as root):</li></ul><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code># kcarectl --doctor
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>Then paste the generated key into the support request.</p><h5 id="support-costs" tabindex="-1"><a class="header-anchor" href="#support-costs" aria-hidden="true">#</a> Support Costs</h5><p>Your KernelCare subscription includes free 24/7 support.</p><h5 id="reference-materials" tabindex="-1"><a class="header-anchor" href="#reference-materials" aria-hidden="true">#</a> Reference Materials</h5><ul><li>KernelCare website: <a href="https://www.kernelcare.com" target="_blank" rel="noopener noreferrer">https://www.kernelcare.com</a></li><li>KernelCare Blog: <a href="https://www.kernelcare.com/blog/" target="_blank" rel="noopener noreferrer">https://www.kernelcare.com/blog/</a></li><li>KernelCare Patch Server: <a href="https://patches.kernelcare.com" target="_blank" rel="noopener noreferrer">https://patches.kernelcare.com</a></li><li>KernelCare documentation: <a href="https://docs.kernelcare.com/" target="_blank" rel="noopener noreferrer">https://docs.kernelcare.com/</a></li><li>CloudLinux Network - CLN (Billing Portal): <a href="https://cln.cloudlinux.com" target="_blank" rel="noopener noreferrer">https://cln.cloudlinux.com</a></li><li>CloudLinux 24/7 online support system: <a href="https://tuxcare.zendesk.com" target="_blank" rel="noopener noreferrer">https://tuxcare.zendesk.com</a></li></ul><h5 id="localization" tabindex="-1"><a class="header-anchor" href="#localization" aria-hidden="true">#</a> Localization</h5><p>KernelCare is available in the English language only.</p><h4 id="reseller-partner-ui" tabindex="-1"><a class="header-anchor" href="#reseller-partner-ui" aria-hidden="true">#</a> Reseller Partner UI</h4><p>Once you have got the reseller partner access, in the IP Reseller Partner UI you can view and manage IP licenses, billing options and profile details. Here you can track your balance, license count and license prices as well as using an IP address search to find customers. You can find more information about KernelCare licensing <a href="https://www.kernelcare.com/pricing/" target="_blank" rel="noopener noreferrer">here</a>.</p><h5 id="server-section" tabindex="-1"><a class="header-anchor" href="#server-section" aria-hidden="true">#</a> Server Section</h5><p>As soon as you have added funds (See <strong>Billing Info/Add Funds</strong> below) to your account you can immediately add new licenses for clients. To add an IP KernelCare license:</p><ol><li>Enter IP address in the <strong>Add IP License</strong> field, choose a license type in the pull-down menu (KernelCare) and click <strong>Add license</strong>.</li></ol><p><img src="/images/reseller001.jpg" alt="reseller ui"></p><ol start="2"><li><p>To delete a license click <strong>Delete</strong> in front of the needed IP address.</p></li><li><p>To add a KernelCare Key license go to the <strong>KernelCare Keys</strong> tab, enter the number of servers allowed for the license in <strong>Max Servers</strong>, add a description if needed and click <strong>Add</strong>. The key will be generated and appear in the list below.</p></li></ol><p>In the <strong>Operations List</strong> you are able to edit or delete the key.</p><p><img src="/images/reseller007_zoom96.png" alt="reseller ops"></p><h5 id="billing-info/add-funds" tabindex="-1"><a class="header-anchor" href="#billing-info/add-funds" aria-hidden="true">#</a> Billing Info/Add Funds</h5><p>To add funds:</p><ol><li><p>Click <strong>Add Funds</strong> near your balance or go to <strong>Billing Info/Add Funds</strong> on the top of the starting page of your account.</p></li><li><p>Click <strong>Add</strong> to add credit card details, then enter funds amount and click <strong>TopUp</strong> or <strong>Process to Checkout</strong> to pay via PayPal.</p></li></ol><p><img src="/images/reseller002.jpg" alt="reseller billing"></p><p>While adding credit card details, you can also choose the <strong>Auto add funds</strong> option - the funds amount you choose in the pull down menu will be automatically added when your balance is below $100.</p><p>If you choose <strong>Auto repay</strong>, your card will be automatically charged when your balance becomes negative. The minimum charge is $20 (e.g. for a balance of -$15 you will be charged at $20, for a balance of -$134.2 you will be charged at $134.2).</p><p><img src="/images/reseller003.jpg" alt="add funds"></p><div class="tip custom-block"><p class="custom-block-title">Note</p><p>If your balance is shown as negative, it means that you have to deposit more funds.</p></div><h5 id="api-section" tabindex="-1"><a class="header-anchor" href="#api-section" aria-hidden="true">#</a> API Section</h5><p>CloudLinux and KernelCare IP license adding and removing is compatible with different hosting and domain management and billing systems and platforms. You can find comprehensive information on all possible CloudLinux modules and plug-ins APIs in API Section.</p><p><img src="/images/reseller004.jpg" alt="reseller api"></p><h5 id="profile" tabindex="-1"><a class="header-anchor" href="#profile" aria-hidden="true">#</a> Profile</h5><p>You can edit your profile information by clicking on <strong>Profile</strong> section. Edit the necessary info and click <strong>Update Account</strong>.</p><p><img src="/images/reseller5.jpg" alt="profile"><img src="/images/reseller006.jpg" alt="contacts"></p><h4 id="how-to" tabindex="-1"><a class="header-anchor" href="#how-to" aria-hidden="true">#</a> How To</h4><h5 id="how-to-disable-hyperthreading-(smt)-without-reboot:-kernelcare-case" tabindex="-1"><a class="header-anchor" href="#how-to-disable-hyperthreading-(smt)-without-reboot:-kernelcare-case" aria-hidden="true">#</a> How to disable HyperThreading (SMT) without reboot: KernelCare case</h5><p>This article explains how to disable or enable SMT (Simultaneous multithreading) without rebooting using KernelCare, to help mitigate the recent MDS/Zombieload vulnerability.</p><p>Disabling CPU simultaneous multithreading (SMT) is one of the mitigations needed to counter the recent MDS vulnerability (also known as ‘Zombieload&#39;). There is a performance impact that depends on the configuration of the hosting platform and its workload patterns. You should also consider the impact of other mitigation strategies, such as assigning dedicated cores to guests (e.g. VMs).</p><p>You can control and get the status of SMT with the kernel&#39;s <code>sysfs</code> interface. There are two files, both in the <code>/sys/devices/system/cpu/smt</code> directory:</p><ul><li><code>control</code></li><li><code>active</code></li></ul><p>If you cannot find the <code>/sys/devices/system/cpu/smt</code> directory, this means your running kernel does not support SMT. In this case, you need to apply KernelCare patches so the SMT controls become available to your system. Use the <code>kcarectrl</code> command:</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code># kcarectl --update

Kernel is safe
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code># ls -l /sys/devices/system/cpu/smt

-r--r--r-- 1 root root 4096 May 17 13:06 active
-rw-r--r-- 1 root root 4096 May 17 13:06 control
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>As soon as you have these files in place, it is possible to proceed with disabling SMT.</p><iframe width="560" height="315" src="https://www.youtube.com/embed/RUGCvEO1hAE" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe><h5 id="smt-control" tabindex="-1"><a class="header-anchor" href="#smt-control" aria-hidden="true">#</a> SMT Control</h5><p><code>/sys/devices/system/cpu/smt/control</code></p><p>This file lets you enable or disable SMT, and shows its state. There are three values:</p><ol><li><code>on</code>: The CPU supports SMT and it is enabled. All logical CPUs can be taken offline or online without restriction.</li><li><code>off</code>: The CPU supports SMT but it is disabled. Only so-called primary SMT threads can be taken offline/online without restriction. Attempts to put a non-primary sibling thread online will be rejected.</li><li><code>notsupported</code>: The CPU does not support SMT. You will not be able to write to the control file.</li></ol><h5 id="smt-status" tabindex="-1"><a class="header-anchor" href="#smt-status" aria-hidden="true">#</a> SMT Status</h5><p><code>/sys/devices/system/cpu/smt/active</code></p><p>The contents of this file show the status of SMT (e.g. if two or more sibling threads are active on the same physical core the contents of this file is 1, if not: 0).</p><p>Here are some commands to control SMT support (root permissions are required):</p><h5 id="check-the-smt-state" tabindex="-1"><a class="header-anchor" href="#check-the-smt-state" aria-hidden="true">#</a> Check the SMT state</h5><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>$ cat /sys/devices/system/cpu/smt/active
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h5 id="enable-smt" tabindex="-1"><a class="header-anchor" href="#enable-smt" aria-hidden="true">#</a> Enable SMT</h5><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code># echo on &gt; /sys/devices/system/cpu/smt/control
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h5 id="disable-smt" tabindex="-1"><a class="header-anchor" href="#disable-smt" aria-hidden="true">#</a> Disable SMT</h5><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code># echo off &gt; /sys/devices/system/cpu/smt/control
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>Disabling SMT, <a href="/how-to/#how-to-update-microcode-without-reboot-with-vendor-provided-package" class="">updating microcode</a>, and applying KernelCare patches will protect your systems against the ZombieLoad vulnerability. Note, only the latter action is applicable to virtual systems (e.g. VMs, VPS and other cloud instance types).</p><h5 id="how-to-update-microcode-without-reboot-with-vendor-provided-package" tabindex="-1"><a class="header-anchor" href="#how-to-update-microcode-without-reboot-with-vendor-provided-package" aria-hidden="true">#</a> How to update Microcode without reboot with vendor-provided package</h5><p>This article shows how to update the microcode of Intel CPUs running Linux.</p><div class="warning custom-block"><p class="custom-block-title">Warning</p><p>To avoid possible issues with Microcode updating, enable SMT before the update.</p></div><div class="tip custom-block"><p class="custom-block-title">Note</p><p>This article is subject to change and will be updated with instructions for other distributions.</p></div><div class="tip custom-block"><p class="custom-block-title">Notes</p><ul><li>These steps must be done as root.</li><li>The examples shown are for Debian.</li><li>If you have doubts your systems are fully protected against CPU- and kernel-related vulnerabilities, please <a href="mailto:sales@cloudlinux.com">get in touch with us</a>.</li></ul></div><h5 id="updating-microcode-on-ubuntu-and-debian" tabindex="-1"><a class="header-anchor" href="#updating-microcode-on-ubuntu-and-debian" aria-hidden="true">#</a> Updating microcode on Ubuntu and Debian</h5><ol><li><p>Find the microcode package download link for your platform</p><ul><li>Ubuntu: <a href="https://usn.ubuntu.com/3977-1/" target="_blank" rel="noopener noreferrer">https://usn.ubuntu.com/3977-1/</a></li><li>Debian: <a href="https://packages.debian.org/search?keywords=intel-microcode" target="_blank" rel="noopener noreferrer">https://packages.debian.org/search?keywords=intel-microcode</a></li></ul></li><li><p>Download the package</p></li></ol><div class="tip custom-block"><p class="custom-block-title">Note</p><p>Example shown for Debian 9</p></div><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>$ cd &lt;a temporary directory, e.g. /tmp&gt;
$ mkdir firmware
$ cd firmware
$ wget http://security.debian.org/debian-security/pool/updates/non-free/i/intel-microcode/intel-microcode_3.20190514.1~deb9u1_amd64.deb
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="3"><li>Check the downloaded package</li></ol><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>$ md5sum intel-microcode_3.20190514.1~deb9u1_amd64.deb

c7bc9728634137453e0f4821fb6bb436  intel-microcode_3.20190514.1~deb9u1_amd64.deb
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>A list of checksums is on <a href="https://packages.debian.org/stretch/amd64/intel-microcode/download" target="_blank" rel="noopener noreferrer">the Debian packages download page</a>.</p><ol start="4"><li>Unpack the package</li></ol><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>$ dpkg -x intel-microcode_3.20190514.1~deb9u1_amd64.deb
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ol start="5"><li>Check the unpacked files</li></ol><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>$ ls -l

total 1896
drwxr-xr-x 5 root root   53 May 15 04:18 etc
-rw-r--r-- 1 root root 1940140 May 17 11:42 intel-microcode_3.20190514.1~deb9u1_amd64.deb
drwxr-xr-x 3 root root   22 May 15 04:18 lib
drwxr-xr-x 3 root root   19 May 15 04:18 usr
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="6"><li>Create a backup of existing microcode:</li></ol><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code># test -d /lib/firmware/intel-ucode/ &amp;&amp; mv /lib/firmware/intel-ucode/ /lib/firmware/intel-ucode.backup
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ol start="7"><li>Copy the new microcode and check it</li></ol><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code># cp -r lib/firmware/intel-ucode/ /lib/firmware/
# ls -l /lib/firmware/ | grep intel-ucode

drwxr-xr-x  2 root root 4096 May 17 11:47 intel-ucode
drwxr-xr-x  2 root root 4096 May 16 20:54 intel-ucode.backup
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="8"><li>Check the current microcode version</li></ol><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code># dmesg | grep microcode

[ 2.254717] microcode: sig=0x306a9, pf=0x10, revision=0x12
[ 2.254820] microcode: Microcode Update Driver: v2.01 &lt;tigran@aivazian.fsnet.co.uk&gt;, Peter Oruba
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="9"><li>(Optional) Double check the current microcode versions (revisions per core)</li></ol><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>$ grep microcode /proc/cpuinfo

microcode : 0x12
microcode : 0x12
microcode : 0x12
microcode : 0x12
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="10"><li>Check the microcode reload file exists</li></ol><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>$ ls -l /sys/devices/system/cpu/microcode/reload

--w------- 1 root root 4096 May 17 11:54 /sys/devices/system/cpu/microcode/reload
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="11"><li>Force the kernel to load the new microcode</li></ol><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code># echo 1 &gt; /sys/devices/system/cpu/microcode/reload
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ol start="12"><li>Check the new microcode</li></ol><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code># dmesg | grep microcode

[ 2.254717] microcode: sig=0x306a9, pf=0x10, revision=0x12
[ 2.254820] microcode: Microcode Update Driver: v2.01 &lt;tigran@aivazian.fsnet.co.uk&gt;, Peter Oruba
[ 1483.494573] platform microcode: firmware: direct-loading firmware intel-ucode/06-3a-09
[ 1483.495985] microcode: updated to revision 0x21, date = 2019-02-13
[ 1483.496012] platform microcode: firmware: direct-loading firmware intel-ucode/06-3a-09
[ 1483.496698] platform microcode: firmware: direct-loading firmware intel-ucode/06-3a-09
[ 1483.497391] platform microcode: firmware: direct-loading firmware intel-ucode/06-3a-09
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="13"><li>(Optional) Double check the new microcode version (revisions per core)</li></ol><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>$ grep microcode /proc/cpuinfo

microcode : 0x21
microcode : 0x21
microcode : 0x21
microcode : 0x21
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="updating-microcode-on-red-hat-and-centos" tabindex="-1"><a class="header-anchor" href="#updating-microcode-on-red-hat-and-centos" aria-hidden="true">#</a> Updating Microcode on Red Hat and CentOS</h5><p>For RHEL-based distributions, you can use the <code>microcode_ctl utility</code> to update microcode.</p><ol><li>Get the latest microcode by updating the <code>microcode_ctl</code> package</li></ol><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code># yum update microcode_ctl
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ol start="2"><li>Create a force file</li></ol><p>Create a <code>force-late-intel-06-4f-01</code> inside the firmware directory.</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code># touch /lib/firmware/`uname -r`/force-late-intel-06-4f-01
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ol start="3"><li>Run the microcode update</li></ol><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code># /usr/libexec/microcode_ctl/update_ucode
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ol start="4"><li>Force the kernel to load the new microcode</li></ol><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code># echo 1 &gt; /sys/devices/system/cpu/microcode/reload
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ol start="5"><li>Check the new microcode</li></ol><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code># dmesg | grep microcode

[ 2.254717] microcode: sig=0x306a9, pf=0x10, revision=0x12
[ 2.254820] microcode: Microcode Update Driver: v2.01 &lt;tigran@aivazian.fsnet.co.uk&gt;, Peter Oruba
[ 1483.494573] platform microcode: firmware: direct-loading firmware intel-ucode/06-3a-09
[ 1483.495985] microcode: updated to revision 0x21, date = 2019-02-13
[ 1483.496012] platform microcode: firmware: direct-loading firmware intel-ucode/06-3a-09
[ 1483.496698] platform microcode: firmware: direct-loading firmware intel-ucode/06-3a-09
[ 1483.497391] platform microcode: firmware: direct-loading firmware intel-ucode/06-3a-09
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="6"><li>(Optional) Double check the new microcode version (revisions per core)</li></ol><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>$ grep microcode /proc/cpuinfo

microcode : 0x21
microcode : 0x21
microcode : 0x21
microcode : 0x21
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="updating-microcode-on-centos-6" tabindex="-1"><a class="header-anchor" href="#updating-microcode-on-centos-6" aria-hidden="true">#</a> Updating Microcode on CentOS 6</h5><ol><li>Get the latest microcode by updating the <code>microcode_ctl</code> package</li></ol><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code># yum update microcode_ctl
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ol start="2"><li>If <code>yum update microcode_ctl</code> outputs the following:</li></ol><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>Package(s) microcode_ctl available, but not installed.
No Packages marked for Update
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>you need to install the package manually.</p><ol start="3"><li>To install <code>microcode_ctl</code> package, run the command:</li></ol><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code># yum install microcode_ctl
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>The command should output:</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>Installed:
  microcode_ctl.x86_64 2:1.17-33.11.el6_10

Complete!
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="4"><li>Check CPU microcode version:</li></ol><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>$ grep microcode /proc/cpuinfo

microcode       : 9
microcode       : 9
microcode       : 9
microcode       : 9
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="5"><li>Try to update microcode</li></ol><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code># microcode_ctl -u
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>If you see the output:</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>microcode_ctl: writing microcode (length: 2370560)
microcode_ctl: cannot open /dev/cpu/microcode for writing errno=2 (No such file or directory)
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>You need to load driver microcode.</p><ol start="6"><li>Load driver microcode</li></ol><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code># modprobe microcode
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ol start="7"><li>Try to update microcode again:</li></ol><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code># microcode_ctl -u
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>If you see the output:</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>microcode_ctl: writing microcode (length: 2370560)
microcode_ctl: microcode successfully written to /dev/cpu/microcode
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>then the update is successful.</p><ol start="8"><li>Check version:</li></ol><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>$ grep microcode /proc/cpuinfo

microcode       : 17
microcode       : 17
microcode       : 17
microcode       : 17
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><iframe width="560" height="315" src="https://www.youtube.com/embed/EydWy-b9uns" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe><h4 id="plesk-related" tabindex="-1"><a class="header-anchor" href="#plesk-related" aria-hidden="true">#</a> Plesk related</h4><h5 id="how-to-get-a-kernelcare-activation-key-from-the-extended-plesk-license" tabindex="-1"><a class="header-anchor" href="#how-to-get-a-kernelcare-activation-key-from-the-extended-plesk-license" aria-hidden="true">#</a> How to get a KernelCare activation key from the extended Plesk license</h5><p>Often our clients purchase KernelCare licenses through Plesk/Odin and in such cases, they get a universal key which includes the KernelCare license and other additional keys for Plesk plugins. Such a key has the following syntax - <code>A00B00-0CDE00-F0G000-HIGK00-LM0N00</code>, and initially, it is installed through Plesk automatically and the license gets activated successfully.</p><p>However, if it is required to re-register the agent for some reason or simply get the KernelCare activation key separately, it would be impossible to apply the above-mentioned one - we would need to deal with the KernelCare service separately.</p><p>To get the KernelCare activation key from the extended Plesk license key, you will need to proceed with the following.</p><ol><li>Navigate to <em>Tools &amp; Settings -&gt; Plesk -&gt; License Management -&gt; Additional License Keys</em></li></ol><p><img src="/images/LicenseManagement.png" alt="plesk keys"></p><p><img src="/images/AdditionalLicenseKeys.png" alt="more keys"></p><ol start="2"><li><p>Click <em>Download key</em> next to the KernelCare license listed on the page and open the file downloaded in some text editor</p></li><li><p>Find the following abstract:</p></li></ol><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>&lt;!--Key body--&gt;
&lt;aps-3:key-body core:encoding=&quot;base64&quot; core:type=&quot;binary&quot;&gt;YOUR_BASE64_ENCODED_LICENSE_KEY==&lt;/aps-3:key-body&gt;
&lt;!--Information about additional key--&gt;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="4"><li><p>This is your base64-encoded key, and it should be decoded using a CLI utility or an online base64 decoder into UTF-8, e.g. <a href="https://www.base64decode.org" target="_blank" rel="noopener noreferrer">https://www.base64decode.org</a>. The new license key should have the following format: <code>xxxxxxxxxxxxxxxx</code>. It will contain lower and upper case letters and numbers.</p></li><li><p>Use the new key decoded to activate the service:</p></li></ol><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code># kcarectl --register DECODED_KEY_HERE
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>That&#39;s it!</p><h3 id="libcare" tabindex="-1"><a class="header-anchor" href="#libcare" aria-hidden="true">#</a> LibCare</h3><p>LibCare enables security patching of critical userspace shared libraries in-memory without restarting or disrupting the applications using them. It provides security updates for the OpenSSL and glibc libraries on many operating systems including CentOS, AlmaLinux, Oracle Linux, Debian, and Ubuntu.</p><h4 id="library-patching-lifetime" tabindex="-1"><a class="header-anchor" href="#library-patching-lifetime" aria-hidden="true">#</a> Library Patching Lifetime</h4><p>Each individual OpenSSL and glibc library covered by LibCare receives live patches for the same time period as the operating system (including the extended lifecycle support phase). LibCare tracks all releases of OpenSSL and glibc linked in memory at any given time and patches them forward.</p><h4 id="supported-architectures-2" tabindex="-1"><a class="header-anchor" href="#supported-architectures-2" aria-hidden="true">#</a> Supported Architectures</h4><p>LibCare is available only for x86-64 (Intel and AMD) architecture.</p><h4 id="installation-and-upgrade" tabindex="-1"><a class="header-anchor" href="#installation-and-upgrade" aria-hidden="true">#</a> Installation and upgrade</h4><p>Userspace processes patching feature is available in the KernelCare package.</p><h4 id="usage" tabindex="-1"><a class="header-anchor" href="#usage" aria-hidden="true">#</a> Usage</h4><p>To apply the available patches to all userspace processes, run the following command:</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code># kcarectl --lib-update
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>To gather information about what processes were patched, run the following command:</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code># kcarectl --lib-info
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>To gather information about applied patches, run the following command:</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code># kcarectl --lib-patch-info
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>To unpatch all processes, run the following command:</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code># kcarectl --lib-unload
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h5 id="blacklisting" tabindex="-1"><a class="header-anchor" href="#blacklisting" aria-hidden="true">#</a> Blacklisting</h5><p>Applying a live patch may clash with software such as anti-viruses that detect or prevent memory updates. While the majority of software is compatible with live patching, for the software that may misbehave, LibCare comes with a default blacklist. The blacklist is located in the /var/lib/libcare/blacklist and contains the list of known applications that may misbehave when live patched. You can override those values by creating the file <code>/var/cache/kcare/userspace/blacklist</code>.</p><p>The format of the file is as follows. Patterns should be specified line by line prefixed with pattern type and a colon. Comments start with a hash (#). For example:</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code> # Symantec Antivirus
 path: /opt/Symantec/*
 filename:symcfgd
 filename:rtvscand
 filename:smcd
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Specifying <code>path</code> means that the whole path to binary will be taken into account, while using <code>filename</code> allows you to blacklist a process irrespective of the full path to the binary.</p><p>Wildcards are also supported:</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code> filename:docker*
 path:/usr/libexec/docker/docker-*
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>Also POSIX regular expressions could be used as follows:</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code> regex:/usr/bin/[[:alnum:]]+
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h5 id="auto-update" tabindex="-1"><a class="header-anchor" href="#auto-update" aria-hidden="true">#</a> Auto update</h5><p>Userspace patching cron job is disabled by default. To enable it, run the following command:</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code># libcare-cron init
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="usage-in-containers" tabindex="-1"><a class="header-anchor" href="#usage-in-containers" aria-hidden="true">#</a> Usage in containers</h4><p>LibCare supports containers natively, including docker, LXC and other containerization technologies. When run on the host it operates on all processes that are running, including processes present in containers. At the same time there are two ways to use LibCare with containers and each has its own advantages and disadvantages. Let&#39;s go through them.</p><h5 id="disposable-container-servers" tabindex="-1"><a class="header-anchor" href="#disposable-container-servers" aria-hidden="true">#</a> Disposable container servers</h5><p>Disposable container servers are services that are run within a container for a limited time and are refreshed periodically, e.g. daily to get the latest security updates. The recommended way to run LibCare with disposable containers is by installing <code>kernelcare</code> on the host, and it will automatically patch all processes libraries in the containers.</p><h5 id="persistent-container-servers" tabindex="-1"><a class="header-anchor" href="#persistent-container-servers" aria-hidden="true">#</a> Persistent container servers</h5><p>Persistent container servers are services that are run in containers the same way as a traditional physical server, i.e. the LXC approach. Although LibCare can run the same way as with disposable containers, it is also possible to install <code>kernelcare</code> within each container and that will enable live patching of the processes of each container individually. That approach enables accurate patching information within each containerized server that can be used by the available vulnerability scanner. When using this approach userspace patching must be disabled on the host using <code>kcarectl --disable-libcare</code>.</p><h4 id="troubleshooting" tabindex="-1"><a class="header-anchor" href="#troubleshooting" aria-hidden="true">#</a> Troubleshooting</h4><h5 id="auditd-logs" tabindex="-1"><a class="header-anchor" href="#auditd-logs" aria-hidden="true">#</a> Auditd logs</h5><p>The LibCare tools heavily use the <code>ptrace</code> syscall, and if <code>auditd</code> is configured to trace it&#39;s calls there will be a lot of records in the logs. There is a rule that is provided by the kernelcare package and is located at <code>/etc/audit/rules.d/kernelcare.rules</code> that will exclude the kernelcare processes from auditd.</p><p><strong>Note</strong>: no such rule is provided for EL6 due to old <code>autditd</code> restrictions. There is a command that will add such a rule at runtime:</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code># auditctl -l | grep kcare | cut -d&#39; &#39; -f2- | xargs -t -L1 -r auditctl -d &amp;&amp; pgrep libcare-server | \
    xargs -t -n1 -i auditctl -A exit,never -F arch=b64 -S ptrace -F pid=&quot;{}&quot; -k kcarever | \
    xargs -t -n1 -i auditctl -A exit,never -F arch=b64 -S ptrace -F pid=&quot;{}&quot; -k kcare
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>It removes all currently enabled KernelCare rules and adds a new one by LibCare&#39;s process ID.</p><h4 id="unpatched-library-detector-(uchecker)" tabindex="-1"><a class="header-anchor" href="#unpatched-library-detector-(uchecker)" aria-hidden="true">#</a> Unpatched Library Detector (UChecker)</h4><h5 id="description" tabindex="-1"><a class="header-anchor" href="#description" aria-hidden="true">#</a> Description</h5><p>UChecker is a scanner that checks network Linux servers and detects out-of-date libraries both on disk and in memory. KernelCare&#39;s open-source scanner will find false negatives by correctly reporting vulnerable libraries running in memory that could be reported as updated by other scanners.</p><p>The UChecker (originated from &quot;userspace checker&quot;) works with all modern Linux Distributions, it is free and open-source, distributed under the GNU General Public License.</p><h5 id="how-uchecker-works" tabindex="-1"><a class="header-anchor" href="#how-uchecker-works" aria-hidden="true">#</a> How UChecker works</h5><p>This activity diagram shows how UChecker works:</p><p><img src="/images/uchecker.jpg" alt="uchecker"></p><h5 id="uchecker-usage" tabindex="-1"><a class="header-anchor" href="#uchecker-usage" aria-hidden="true">#</a> UChecker Usage</h5><p>To scan your systems, run the following command:</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>$ curl -s -L https://kernelcare.com/uchecker | sudo python
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>You will receive the following output:</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>[*] Process httpd[15516] linked to the `libc-2.17.so` that is not up to date.

You may want to update libraries above and restart corresponding processes.

KernelCare+ allows to resolve such issues with no process downtime. To find
out more, please, visit https://lp.kernelcare.com/kernelcare-early-access?
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>The following information is available in the output:</p><ul><li>Process ID</li><li>Process Name</li></ul><h5 id="uchecker-troubleshooting" tabindex="-1"><a class="header-anchor" href="#uchecker-troubleshooting" aria-hidden="true">#</a> UChecker Troubleshooting</h5><p>To see verbose output, you can choose a logging level: <code>ERROR</code>, <code>WARNING</code>, <code>INFO</code>, and <code>DEBUG</code>.</p><p>For example:</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>$ curl -s -L https://kernelcare.com/uchecker | sudo LOGLEVEL=debug python
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>To learn more, visit the <a href="https://github.com/cloudlinux/kcare-uchecker" target="_blank" rel="noopener noreferrer">UChecker Github page</a>.</p><h3 id="qemucare" tabindex="-1"><a class="header-anchor" href="#qemucare" aria-hidden="true">#</a> QEMUCare</h3><p>QEMUCare - virtualization patching for cloud providers, VPS hosters, or any other company with QEMU based virtualization systems. It keeps infrastructure patched without disrupting virtual tenants&#39; systems.</p><h4 id="how-qemucare-works" tabindex="-1"><a class="header-anchor" href="#how-qemucare-works" aria-hidden="true">#</a> How QEMUCare works</h4><ul><li>An agent is installed on each virtualization host which installs patches directly from the QEMUCare repository.</li><li>In an ePortal environment, your Virtualization Hosts communicate with the QEMUCare ePortal server that acts as an intermediary.</li></ul><h4 id="qemu-patchset-deployment" tabindex="-1"><a class="header-anchor" href="#qemu-patchset-deployment" aria-hidden="true">#</a> QEMU PatchSet Deployment</h4><p>Starting from version 1.25, ePortal supports the QEMU patchset management. It is accessible from the <code>Patches / QEMUcare</code> navigation item. QEMU patches use the same Patch Source credentials, and you don&#39;t need to perform additional configuration.</p><p><img src="/images/eportal-qemu-feed.png" alt="qemu feed"></p><p>User interface for the QEMU patch management is the same as for KernelCare patches, and you can refer the <a href="https://docs.tuxcare.com/eportal/#patchset-deployment" target="_blank" rel="noopener noreferrer">PatchSet Deployment</a> documentation.</p><h5 id="cli-to-install-the-latest-patchsets" tabindex="-1"><a class="header-anchor" href="#cli-to-install-the-latest-patchsets" aria-hidden="true">#</a> CLI to install the latest patchsets</h5><p>To update the default feed, run the following command:</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code># kc.eportal qemu update
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>To update the <code>test</code> feed, run the following command:</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code># kc.eportal qemu update --feed test
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>To update all auto-feeds, run the following command:</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code># kc.eportal qemu auto-update
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h5 id="cli-to-deploy-patchset-from-archive" tabindex="-1"><a class="header-anchor" href="#cli-to-deploy-patchset-from-archive" aria-hidden="true">#</a> CLI to deploy patchset from archive</h5><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>$ kc.eportal qemu deploy --help
usage: kc.eportal qemu deploy [-h] [--feed FEED] [--disabled] archive

positional arguments:
  archive      path to archive

optional arguments:
  -h, --help   show this help message and exit
  --feed FEED  feed to deploy archive to
  --disabled   do not enable patchset after deploy
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>For example:</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code># kc.eportal qemu deploy --feed test /tmp/U20210818_01-qemu.tar.bz2
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>This command will deploy and enable the <code>U20210818_01-qemu</code> patchset in to the <code>test</code> feed.</p><h3 id="vulnerability-scanner-integration-with-kernelcare" tabindex="-1"><a class="header-anchor" href="#vulnerability-scanner-integration-with-kernelcare" aria-hidden="true">#</a> Vulnerability Scanner Integration with KernelCare</h3><p>This document is made for developers of vulnerability scanners to correctly report live patched vulnerabilities as delivered by KernelCare. There are several approaches that vendors might take to identify vulnerabilities patched by KernelCare correctly.</p><h4 id="easiest:-identifying-correctly-the-effective-kernel" tabindex="-1"><a class="header-anchor" href="#easiest:-identifying-correctly-the-effective-kernel" aria-hidden="true">#</a> Easiest: Identifying correctly the effective kernel</h4><p>KernelCare provides &quot;effective kernel&quot; information in</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>/proc/kcare/effective_version
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>Security scanners can check if the file is present, and if it is, use it instead of /proc/version to identify the kernel. This will provide an effective kernel version from a security standpoint.</p><p>Alternatively, the command <code>/usr/bin/kcarectl --uname</code> can be run instead of the <code>uname</code> command to detect effective kernel version</p><h3 id="comprehensive:-using-oval-data" tabindex="-1"><a class="header-anchor" href="#comprehensive:-using-oval-data" aria-hidden="true">#</a> Comprehensive: Using OVAL data</h3><p>KernelCare comes with OVAL data that provides instructions to the scanner to identify the vulnerabilities addressed by the installed live patches. OVAL data are available for the operating systems supported by KernelCare Enterprise, including AlmaLinux, Red Hat Enterprise Linux, Oracle Linux, CentOS, Debian, and Ubuntu.</p><p>The OVAL data cover all KernelCare enterprise products and add-ons, including LibCare and QEMUCare.</p><p>The OVAL data for KernelCare live patching are available at <a href="https://patches.kernelcare.com/oval/" target="_blank" rel="noopener noreferrer">patches.kernelcare.com/oval</a>.</p><h4 id="comprehensive-&amp;-local:-using-the-local-cvelist-file-on-each-scanned-node" tabindex="-1"><a class="header-anchor" href="#comprehensive-&amp;-local:-using-the-local-cvelist-file-on-each-scanned-node" aria-hidden="true">#</a> Comprehensive &amp; local: Using the local CVELIST file on each scanned node</h4><p>KernelCare provides two files listing the vulnerabilities the currently installed live patches address. These files contain a list of CVEs separated by a new line.</p><p>The list of vulnerabilities addressed by Kernel live patches is available at:</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>/proc/kcare/cvelist
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>The list of vulnerabilities addressed by system live patching (LibCare, QEMUCare, etc.) is available at:</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>/var/cache/kcare/libcare_cvelist
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="live-patching-for-proxmox-ve-8" tabindex="-1"><a class="header-anchor" href="#live-patching-for-proxmox-ve-8" aria-hidden="true">#</a> Live Patching for Proxmox VE 8</h2><h3 id="overview-of-proxmox-ve-8" tabindex="-1"><a class="header-anchor" href="#overview-of-proxmox-ve-8" aria-hidden="true">#</a> Overview of Proxmox VE 8</h3><p>Proxmox Virtual Environment (VE) 8 is a powerful, open-source platform for enterprise virtualization. It integrates KVM hypervisor and LXC containers, software-defined storage, and networking functionality on a single platform. Proxmox VE 8 offers a robust and scalable solution for managing virtual machines (VMs) and containers, making it ideal for data centers and enterprise environments.</p><h3 id="the-need-for-live-patching" tabindex="-1"><a class="header-anchor" href="#the-need-for-live-patching" aria-hidden="true">#</a> The Need for Live Patching</h3><p>In the modern digital landscape, minimizing downtime is crucial. Applying security patches and updates often requires system reboots, leading to service interruptions. Live patching addresses this challenge by allowing you to apply critical updates to the kernel and key libraries without rebooting your servers. This ensures continuous security compliance and system availability.</p><p><strong>Advantages of Live Patching:</strong></p><ul><li><strong>Zero Downtime Maintenance</strong>: Apply critical updates without interrupting services or affecting end-users.</li><li><strong>Enhanced Security Posture</strong>: Rapid deployment of patches reduces the window of vulnerability.</li><li><strong>Operational Efficiency</strong>: Eliminates the need for scheduling maintenance windows and reduces the administrative burden.</li><li><strong>Regulatory Compliance</strong>: Meets compliance requirements that mandate timely application of security patches.</li><li><strong>Cost Savings</strong>: Minimizes potential revenue loss due to downtime and reduces operational overhead.</li></ul><p>Implementing live patching solutions is essential for organizations that prioritize both security and availability in their IT operations.</p><h3 id="introduction-to-tuxcare&#39;s-live-patching-services" tabindex="-1"><a class="header-anchor" href="#introduction-to-tuxcare&#39;s-live-patching-services" aria-hidden="true">#</a> Introduction to TuxCare&#39;s Live Patching Services</h3><p>TuxCare offers a comprehensive suite of live patching services designed to keep Linux-based systems secure and up-to-date without the need for reboots or service restarts. These services seamlessly integrate with Proxmox VE 8, enhancing its capabilities and ensuring uninterrupted operations.</p><p><strong>TuxCare&#39;s Live Patching Solutions:</strong></p><ul><li><strong>KernelCare</strong>: Provides automated, rebootless kernel updates, ensuring the Linux kernel is always secure against the latest vulnerabilities.</li><li><strong>LibCare</strong>: Delivers live patching for critical shared libraries like OpenSSL and glibc, protecting user-space applications without requiring restarts.</li><li><strong>QEMUCare</strong>: Offers live patching for the QEMU emulator, allowing security fixes to be applied without stopping or migrating virtual machines.</li></ul><p>By integrating TuxCare&#39;s services into your Proxmox VE 8 environment, you can achieve a higher level of security and compliance while maintaining the performance and availability of your virtual infrastructure.</p><h4 id="kernelcare-for-proxmox-ve-8" tabindex="-1"><a class="header-anchor" href="#kernelcare-for-proxmox-ve-8" aria-hidden="true">#</a> KernelCare for Proxmox VE 8</h4><p>KernelCare is a live patching solution that automatically applies security patches to the Linux kernel without requiring a reboot. This service ensures that your Proxmox VE 8 servers remain secure against known vulnerabilities while maintaining high availability.</p><h5 id="integration-with-proxmox-ve-8" tabindex="-1"><a class="header-anchor" href="#integration-with-proxmox-ve-8" aria-hidden="true">#</a> Integration with Proxmox VE 8</h5><p>In a Proxmox VE 8 environment, KernelCare ensures that the underlying Linux kernel is always protected without affecting the operation of VMs and containers. This integration offers:</p><ul><li><strong>Cluster-Wide Protection</strong>: Apply kernel patches across all nodes in a Proxmox cluster without rebooting any servers.</li><li><strong>Simplified Management</strong>: Centralized control and monitoring of kernel patch status across multiple nodes.</li><li><strong>Reduced Risk</strong>: Mitigates the risk of security breaches that could compromise the entire virtualized infrastructure.</li></ul><h5 id="getting-started-with-kernelcare" tabindex="-1"><a class="header-anchor" href="#getting-started-with-kernelcare" aria-hidden="true">#</a> Getting Started with KernelCare</h5><p>For detailed installation instructions, please refer to the <a href="https://docs.tuxcare.com/live-patching-services/#installation-1" target="_blank" rel="noopener noreferrer">KernelCare Installation Guide</a> .</p><h4 id="libcare-for-proxmox-ve-8" tabindex="-1"><a class="header-anchor" href="#libcare-for-proxmox-ve-8" aria-hidden="true">#</a> LibCare for Proxmox VE 8</h4><p>Shared libraries like <strong>OpenSSL</strong> and <strong>glibc</strong> are fundamental to the operation of many applications and services. Vulnerabilities in these libraries can lead to serious security breaches, such as unauthorized data access or remote code execution. Traditionally, updating these libraries requires restarting the services or applications that use them, which can cause downtime.</p><p><strong>LibCare</strong> provides a solution by enabling live patching of these critical shared libraries without the need to restart dependent services or reboot the servers. This ensures that security updates are applied promptly, keeping your system secure while maintaining service availability.</p><h5 id="importance-in-proxmox-ve-8" tabindex="-1"><a class="header-anchor" href="#importance-in-proxmox-ve-8" aria-hidden="true">#</a> Importance in Proxmox VE 8</h5><p>In the context of Proxmox VE 8, LibCare plays a critical role in maintaining the security of both the host environment and the guest virtual machines:</p><ul><li><strong>Secure Management Interfaces</strong>: Protects the Proxmox web interface and API from vulnerabilities in libraries like OpenSSL.</li><li><strong>Guest Isolation</strong>: Ensures that vulnerabilities in shared libraries do not compromise the isolation between VMs or containers.</li><li><strong>Service Reliability</strong>: Maintains the stability of critical services by avoiding restarts.</li></ul><h5 id="getting-started-with-libcare" tabindex="-1"><a class="header-anchor" href="#getting-started-with-libcare" aria-hidden="true">#</a> Getting Started with LibCare</h5><p>For detailed installation instructions, please refer to the <a href="https://docs.tuxcare.com/live-patching-services/#libcare" target="_blank" rel="noopener noreferrer">LibCare Installation Guide</a> .</p><h4 id="qemucare-for-proxmox-ve-8" tabindex="-1"><a class="header-anchor" href="#qemucare-for-proxmox-ve-8" aria-hidden="true">#</a> QEMUCare for Proxmox VE 8</h4><h5 id="overview" tabindex="-1"><a class="header-anchor" href="#overview" aria-hidden="true">#</a> Overview</h5><p><strong>QEMU</strong> is the emulator and virtualizer used by Proxmox VE to run virtual machines. Vulnerabilities in QEMU can pose significant risks, potentially allowing attackers to escape from guest environments or cause denial-of-service conditions. Traditionally, patching QEMU requires stopping or migrating virtual machines, which can be disruptive.</p><p><strong>QEMUCare</strong> provides live patching for QEMU, enabling security updates to be applied without interrupting running virtual machines. This ensures that your virtual infrastructure remains secure while maintaining continuous operation.</p><h5 id="benefits" tabindex="-1"><a class="header-anchor" href="#benefits" aria-hidden="true">#</a> Benefits</h5><ul><li><strong>Uninterrupted VM Operation</strong>: Apply security patches without stopping or migrating VMs.</li><li><strong>Immediate Vulnerability Mitigation</strong>: Quickly address security flaws as patches become available.</li><li><strong>Operational Continuity</strong>: Avoids the complexity and risk associated with migrating VMs for maintenance.</li><li><strong>Simplified Management</strong>: Reduces the administrative burden of coordinating VM downtime.</li><li><strong>Compliance Assurance</strong>: Helps meet security compliance requirements by ensuring the virtualization layer is up-to-date.</li></ul><h5 id="integration-with-proxmox-ve-8-1" tabindex="-1"><a class="header-anchor" href="#integration-with-proxmox-ve-8-1" aria-hidden="true">#</a> Integration with Proxmox VE 8</h5><p>In Proxmox VE 8 environments, QEMUCare enhances the security of the virtualization stack:</p><ul><li><strong>Secure Virtualization Layer</strong>: Protects against exploits targeting QEMU vulnerabilities.</li><li><strong>Cluster-Wide Deployment</strong>: Apply patches across all nodes without affecting cluster operations.</li><li><strong>Reduced Risk</strong>: Minimizes the attack surface by keeping the hypervisor components up-to-date.</li></ul><h5 id="getting-started-with-qemucare" tabindex="-1"><a class="header-anchor" href="#getting-started-with-qemucare" aria-hidden="true">#</a> Getting Started with QEMUCare</h5><p>For detailed installation instructions, please refer to the <a href="https://docs.tuxcare.com/live-patching-services/#qemucare" target="_blank" rel="noopener noreferrer">QEMUCare Installation Guide</a> .</p><h3 id="conclusion" tabindex="-1"><a class="header-anchor" href="#conclusion" aria-hidden="true">#</a> Conclusion</h3><p>Integrating TuxCare’s live patching services—KernelCare, LibCare, and QEMUCare—into your Proxmox VE 8 environment provides a robust solution for maintaining system security and uptime. By following the installation and configuration steps outlined in this guide, you can ensure that your virtualization infrastructure remains secure and operational without the need for disruptive reboots or service restarts.</p></div><div class="page-edit"><div class="edit-link"><img src="/global/pen.svg" alt="icon pen"><a href="https://github.com/cloudlinux/tuxcare-documentation/tree/master/docs/live-patching-services/README.md" target="_blank" rel="noopener noreferrer">Edit this page</a></div></div><div class="back-to-top" data-v-1eb13e00><a class="nav-arrow top back-to-top__link" data-v-1eb13e00><span class="back-to-top__link-span" data-v-1eb13e00>Scroll up</span></a></div><!--[--><!--]--></div><!----><div class="footer footer-default-layout" data-v-d0933a51><div class="footer__img" data-v-d0933a51><a href="https://tuxcare.com" data-v-d0933a51><img src="/global/we-are-cloudlinux.svg" data-v-d0933a51></a></div><div class="footer-company-title" data-v-d0933a51>2026. Cloud Linux Software Inc </div><div class="social" data-v-d0933a51><div class="social_links" data-v-d0933a51><!--[--><a href="https://cloudlinux.zendesk.com/hc/en-us/categories/360002375960-KernelCare" target="_blank" data-v-d0933a51>Knowledge base</a><a href="https://forum.cloudlinux.com/forum/tuxcare" target="_blank" data-v-d0933a51>Forum</a><a href="https://blog.tuxcare.com/" target="_blank" data-v-d0933a51>Blog</a><a href="https://www.cloudlinux.com/privacy-policy/" target="_blank" data-v-d0933a51>Privacy Policy</a><!--]--></div><span class="footer-social-text" data-v-d0933a51>Stay in touch</span><div class="social-icons-wrapper" data-v-d0933a51><!--[--><a class="social-icons-link" href="https://www.facebook.com/tuxcare/" target="_blank" data-v-d0933a51><img class="social-icons-link-img" src="/footer-social/fb.png" alt="footer logo" data-v-d0933a51></a><a class="social-icons-link" href="https://twitter.com/tuxcare_/" target="_blank" data-v-d0933a51><img class="social-icons-link-img" src="/footer-social/tw.png" alt="footer logo" data-v-d0933a51></a><a class="social-icons-link" href="https://linkedin.com/company/tuxcare" target="_blank" data-v-d0933a51><img class="social-icons-link-img" src="/footer-social/in.png" alt="footer logo" data-v-d0933a51></a><a class="social-icons-link" href="https://www.youtube.com/@TuxCare" target="_blank" data-v-d0933a51><img class="social-icons-link-img" src="/footer-social/ytube.png" alt="footer logo" data-v-d0933a51></a><!--]--></div></div></div></div><div id="bot-ui" data-v-9d410ad2><!-- Conditionally show toggle button with highlight --><div class="toggle-container" style="" data-v-9d410ad2><div class="pulse-ring" data-v-9d410ad2></div><button class="chat-toggle" data-v-9d410ad2><img src="/assets/bot-icon-da1ba725.webp" alt="Bot icon" class="bot-icon" data-v-9d410ad2></button><div class="highlight-container" data-v-9d410ad2><div class="tooltip-text" data-v-9d410ad2><div class="tooltip-close" data-v-9d410ad2>×</div><div class="tooltip-title" data-v-9d410ad2><b data-v-9d410ad2>Need help?</b></div><div class="tooltip-subtitle" data-v-9d410ad2>I&#39;m a multilingual AI chatbot, trained to answer all your questions!</div></div></div></div><!----></div><!--]--></div>
    <script type="module" src="/assets/app-ea04c7ae.js" defer></script>
  </body>
</html>

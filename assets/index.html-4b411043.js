import{_ as a,n as r,p as t,a6 as i}from"./framework-a770bce2.js";const n={};function d(s,e){return r(),t("div",null,e[0]||(e[0]=[i(`<h1 id="tuxcare-radar" tabindex="-1"><a class="header-anchor" href="#tuxcare-radar" aria-hidden="true">#</a> TuxCare Radar</h1><p>This guide describes <a href="https://tuxcare.com/radar/" target="_blank" rel="noopener noreferrer">TuxCare Radar</a> and how to install and use it.</p><h2 id="what-is-tuxcare-radar?" tabindex="-1"><a class="header-anchor" href="#what-is-tuxcare-radar?" aria-hidden="true">#</a> What is TuxCare Radar?</h2><p>TuxCare Radar is an intelligent vulnerability scanner for Linux systems, fully integrated with TuxCare&#39;s live patching and ELS technologies. It swiftly uncovers vulnerabilities and ensures their effective prioritization using a unique algorithm that assesses the risk to your company based on a comprehensive set of risk factors.</p><h2 id="installation" tabindex="-1"><a class="header-anchor" href="#installation" aria-hidden="true">#</a> Installation</h2><p>First you need to install our repository configuration:</p><p>RPM-based distributions (AlmaLinux, RHEL etc):</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>cat &gt; /etc/yum.repos.d/tuxcare-radar.repo &lt;&lt;EOL
[tuxcare-radar]
name=TuxCare Radar
baseurl=https://repo.tuxcare.com/radar/\\$releasever/\\$basearch/
enabled=1
gpgcheck=1
skip_if_unavailable=1
gpgkey=https://repo.tuxcare.com/radar/RPM-GPG-KEY-TuxCare
EOL
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>APT-based distributions (Debian, Ubuntu etc):</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>curl -s https://repo.tuxcare.com/radar/tuxcare.gpg -o /usr/share/keyrings/tuxcare.gpg

source /etc/os-release

printf &#39;%s&#39; \\
  &quot;deb [arch=amd64,arm64 signed-by=/usr/share/keyrings/tuxcare.gpg] &quot; \\
  &quot;https://repo.tuxcare.com/radar/$ID/$VERSION_ID &quot; \\
  &quot;stable main&quot; &gt; /etc/apt/sources.list.d/tuxcare-radar.list
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>You should now be able to install Radar as simply as running one of the following:</p><p>RPM-based distributions (AlmaLinux, RHEL etc):</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>yum install tuxcare-radar
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>APT-based distributions (Debian, Ubuntu etc):</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>apt-get update
apt-get install tuxcare-radar
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><div class="warning custom-block"><p class="custom-block-title"></p><p>If you do an in-place upgrade of your APT-based OS, you should change the version number in <code>/etc/apt/sources.list.d/tuxcare-radar.list</code> beforehand.</p></div><h2 id="configuration" tabindex="-1"><a class="header-anchor" href="#configuration" aria-hidden="true">#</a> Configuration</h2><p>You should have received your initial API key (something like <code>bc061b2b-c330-49f6-8953-849637d593ac</code>) along with your password.</p><p>You will need to edit /etc/tuxcare-radar/radar.yaml on each server you wish to scan using Radar and insert your API key. In most instances we would recommend doing this via a centralised config-management tool such as Ansible or Puppet, but you could of course use <code>vim</code> or <code>sed</code> on the server itself, for example:</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>sed -i &#39;s/apikey:.*/apikey: bc061b2b-c330-49f6-8953-849637d593ac/&#39; /etc/tuxcare-radar/radar.yaml
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>By default the file will look like this, where <code>FILLME</code> should be replaced with your API key:</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>base-url: https://radar.tuxcare.com
logfile: /var/log/tuxcare-radar/radar.log
statefile: /var/cache/tuxcare-radar/radar.json
time-between-runs: 23h
enabled: true
apikey: FILLME
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>If you are registered to the EU instance instead of the default US one, you should also change the <code>base-url</code> like so:</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>base-url: https://eu.radar.tuxcare.com
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="tagging" tabindex="-1"><a class="header-anchor" href="#tagging" aria-hidden="true">#</a> Tagging</h2><p>Tags are a powerful feature that let you easily identify and filter hosts based on tags. You can create tags to describe your environment, for example <code>prod</code>, <code>dev</code>, <code>staging</code> or the TuxCare products such as <code>esu</code>, <code>esa</code>, <code>kce</code>, or maybe location, such as <code>eu</code>, <code>us</code>, <code>apac</code>. To use tags, simply add them to /etc/tuxcare-radar/radar.yaml like so:</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>tags: esu,prod,us-east-1
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>The next time a scan is run, the tags will appear in the asset overview.</p><h2 id="firewall-and-proxy-settings" tabindex="-1"><a class="header-anchor" href="#firewall-and-proxy-settings" aria-hidden="true">#</a> Firewall and Proxy Settings</h2><p>TuxCare Radar requires outbound connectivity on tcp/443 (TLS) to <code>radar.tuxcare.com</code> (default US instance) or <code>eu.radar.tuxcare.com</code> (EU instance). IPv6 or IPv4 can be used. No inbound connectivity is required, tuxcare-radar does not open any listening ports.</p><p>To use via a proxy, set the <code>https_proxy</code> environment variable based on your infrastructure. For running the service from cron, you can use this:</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>echo &quot;https_proxy=http://proxy.domain.com:port&quot; &gt;&gt; /etc/environment
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>For running manually, you may need to set it in the user profile like so (or simply via the CLI):</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>echo &quot;export https_proxy=http://proxy.domain.com:port&quot; &gt; /etc/profile.d/proxy.sh
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="proxying-via-eportal" tabindex="-1"><a class="header-anchor" href="#proxying-via-eportal" aria-hidden="true">#</a> Proxying via ePortal</h2><p>If you are an <a href="/eportal">ePortal</a> user, you can proxy Radar via ePortal instead of configuring a dedicated proxy as above.</p><p>In /etc/tuxcare-radar/radar.yaml change the <code>base-url</code> to point to your eportal server with a trailing <code>/radar</code>, for example:</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>#base-url: https://radar.tuxcare.com
base-url: https://eportal.example.com/radar
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>Then on your ePortal server, update /etc/eportal/config with the following:</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>RADAR_PROXY_ENABLE = True
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>If you are registered to the EU instance instead of the default US one, you should also add the following (remove/comment the line to revert to the US instance):</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>RADAR_PROXY_BASEURL = &#39;https://eu.radar.tuxcare.com&#39;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>Then restart ePortal:</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>systemctl restart eportal
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>When it is working, you will see messages like the following, mentioning the ePortal URL in /var/log/tuxcare-radar/radar.log on your TuxCare Radar client:</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>radar INFO: fetching oval file from https://eportal.example.com/radar/oval/alma/9.5?fips=false&amp;oval=0
radar INFO: fetching oval file from https://eportal.example.com/radar/oval/alma/9.5?fips=false&amp;oval=1
radar INFO: sending output to https://eportal.example.com/radar
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="usage" tabindex="-1"><a class="header-anchor" href="#usage" aria-hidden="true">#</a> Usage</h2><p>The installer should have created an /etc/cron.d/tuxcare-radar file that will run from a randomized time every 6 hours, it will check if a scan has been run in the last 23 hours (<code>time-between-runs</code> in radar.yaml) and if not, it will run a scan.</p><p>If you need to manually run a scan instantly for any reason, you can run:</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>su -s /bin/bash nobody -c &quot;tuxcare-radar --config /etc/tuxcare-radar/radar.yaml&quot;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>If you would like to run a CIS benchmark compliance scan, you can run the following as root:</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>tuxcare-radar securescan --config /etc/tuxcare-radar/radar.yaml
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>Then visit <a href="https://radar.tuxcare.com/" target="_blank" rel="noopener noreferrer">https://radar.tuxcare.com</a> (US) or <a href="https://eu.radar.tuxcare.com/" target="_blank" rel="noopener noreferrer">https://eu.radar.tuxcare.com</a> (EU) to view the results.</p>`,53)]))}const l=a(n,[["render",d],["__file","index.html.vue"]]);export{l as default};
